(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t){e.exports="data:image/png;base64,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"},323:function(e,t,a){},351:function(e){e.exports={id:{type:"number"},status:{type:"string"},fullname:{type:"string"},phone:{type:"string"},email:{type:"string"},metadata:{type:"text"},created_at:{date:{type:"datetime"},timezone_type:{type:"number"},timezone:{type:"string"}},campaign:{id:{type:"number"},name:{type:"string"},uuid:{type:"string"},description:{type:"string"}},agent:{id:{type:"number"},name:{type:"string"},avatar_path:{type:"string"}}}},352:function(e){e.exports={fullname:{type:"string",required:!0},phone:{type:"string",required:!0},email:{type:"string",required:!0},metadata:{type:"any type",required:!1}}},375:function(e,t,a){e.exports=a(729)},420:function(e,t,a){},562:function(e,t,a){},564:function(e,t,a){},575:function(e,t,a){},577:function(e,t,a){},588:function(e,t,a){},590:function(e,t,a){},592:function(e,t,a){},594:function(e,t,a){},637:function(e,t,a){},639:function(e,t,a){},641:function(e,t,a){},643:function(e,t,a){},653:function(e,t,a){},656:function(e,t,a){},658:function(e,t,a){},662:function(e,t,a){},664:function(e,t,a){},666:function(e,t,a){},668:function(e,t,a){},670:function(e,t,a){},672:function(e,t,a){},675:function(e,t,a){},677:function(e,t,a){},679:function(e,t,a){},681:function(e,t,a){},684:function(e,t,a){},686:function(e,t,a){},688:function(e,t,a){},690:function(e,t,a){},693:function(e,t,a){},695:function(e,t,a){},697:function(e,t,a){},702:function(e,t,a){},704:function(e,t,a){},706:function(e,t,a){},708:function(e,t,a){},710:function(e,t,a){},712:function(e,t,a){},714:function(e,t,a){},716:function(e,t,a){},718:function(e,t,a){},727:function(e,t,a){},729:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(38),c=a.n(o),s=a(816),l=a(31),i=a(70),u=a(6),p=a.n(u),m=a(12),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(a){t?i.toast.error(e,{position:i.toast.POSITION.TOP_RIGHT}):i.toast.success(e,{position:i.toast.POSITION.TOP_RIGHT})}},h=a(17),f=a(13),g=a(144),E=a.n(g),b=a(821),v=a(237),y=a(777),C=new(function(){function e(t){Object(h.a)(this,e),this.config=t}return Object(f.a)(e,[{key:"getConfig",value:function(){return this.config}},{key:"get",value:function(e){if("undefined"===this.getConfig()[e])throw new Error("Missing required config key value");return this.getConfig()[e]}}]),e}())(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_SERVER:"https://api.convertlead.com/api",REACT_APP_WEB_URI:"https://app.convertlead.com",REACT_APP_FB_APP_ID:"678008932676329"})),O=new(function(){function e(t,a){Object(h.a)(this,e),this.axios=t,this.config=a}return Object(f.a)(e,[{key:"createServer",value:function(){return this.axios.create({baseURL:this.config.get("REACT_APP_API_SERVER")})}}]),e}())(E.a,C).createServer();O.interceptors.response.use(function(e){return e},function(e){if(e.response&&e.response.data){var t=b.a([],["response","data","errors"],e),a=b.a([],["response","data","message"],e),n=v.a(function(e,t){return"".concat(e,"\n ").concat(t.join(","))},"",y.a(t));return Promise.reject(new Error("".concat(a," ").concat(n),e.status))}return Promise.reject(e)});var A=O,D=function(){function e(t){Object(h.a)(this,e),this.sessionStorage=t}return Object(f.a)(e,[{key:"getSessionStorage",value:function(){return this.sessionStorage}},{key:"getItem",value:function(e){return b.a(null,["value"],JSON.parse(this.getSessionStorage().getItem(e)))}},{key:"setItem",value:function(e,t){return this.getSessionStorage().setItem(e,JSON.stringify({value:t}))}},{key:"removeItem",value:function(e){return this.getSessionStorage().removeItem(e)}}]),e}(),w=new D(localStorage),j=function(){function e(){Object(h.a)(this,e)}return Object(f.a)(e,null,[{key:"isAuthorised",value:function(){return b.a(!1,["token"],w.getItem("session"))}},{key:"isAgency",get:function(){return"agency"===this.role}},{key:"isCompany",get:function(){return"company"===this.role}},{key:"isAdmin",get:function(){return"admin"===this.role}},{key:"isAgent",get:function(){return"agent"===this.role}},{key:"role",get:function(){return b.a("",["user","role"],w.getItem("session")).toLowerCase()}},{key:"user",get:function(){return b.a({},["user"],w.getItem("session"))}}]),e}(),k=a(30),x=a(3),S=function(e,t){return{type:"ADD_AGENTS",agents:e,pagination:t}},I=function(e){return{type:"FILTER_AGENTS",filters:e}},N=function(e){return{type:"SORT_AGENTS",field:e}},M=function(e){return{type:"SEARCH_AGENTS",search:e}},_=function(e){return{type:"GOTO_PAGE",activePage:e}},L=function(e){return{type:"ADD_BREADCRUMB",crumb:e,reset:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]}},F=function(e,t){return A.get("/v1/".concat(j.role,"/agents/").concat(e,"/graph/").concat(t.graphType),{params:Object(x.a)({},t)})},R=function(e){return A.get("/v1/agent/leads/graph/".concat(e.graphType),{params:Object(x.a)({},e)})},P=function(){return function(){var e=Object(m.a)(p.a.mark(function e(t,a){var n,r,o,c,s,l,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"SHOW_LOADER"}),n=a().agents,r=n.pagination,o=n.query,e.next=5,A.get("/v1/".concat(j.role,"/agents"),{params:Object(x.a)({},o.filters,o.sort,{showDeleted:!!o.showDeleted||null,search:o.search,current_page:r.current_page,per_page:r.per_page})});case 5:c=e.sent,s=c.data,l=s.data,i=Object(k.a)(s,["data"]),t(S(l,i)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t(d(e.t0.message,!0));case 13:t({type:"HIDE_LOADER"});case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t,a){return e.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.patch("/v1/".concat(j.role,"/agents/").concat(e.id),e);case 3:return t.next=5,a({type:"SAVED_AGENT"});case 5:return t.next=7,a(P());case 7:a(d("Successfully saved!")),t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,a(d(t.t0.message,!0));case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e){return t.apply(this,arguments)}}()},q=function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.post("/v1/".concat(j.role,"/agents"),e);case 3:return a(d("Successfully saved!")),t.next=6,a({type:"SAVED_AGENT"});case 6:return t.next=8,a(P());case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,a(d(t.t0.message,!0));case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e){return t.apply(this,arguments)}}()},B=Object(l.b)(function(e){return{form:e.forms.agent.form,show:e.forms.agent.form.show,required:e.forms.agent.required}},function(e){return{loadForm:function(t){return e({type:"LOAD_AGENT",form:t})},changeForm:function(t){return e({type:"CHANGE_AGENT",form:t})},saveForm:function(t){return e((a=t,function(e){try{a.id?e(T(a)):e(q(a))}catch(t){e(d(t.message,!0))}}));var a}}}),G=a(54),Y=Object(G.a)(function(e){return e.agents.selectBoxAgents},function(e){return e.map(function(e){return{key:+e.id,value:+e.id,text:e.name,image:{avatar:!0,src:e.avatar_path}}})}),W=Object(G.a)(function(e){return e.agents.agent},function(e){return e.companies&&e.companies.map(function(e){return{key:e.id,value:e.id,text:e.name}})||[]}),H=Object(G.a)(function(e){return e.agents.agent},function(e){return e.companies&&e.companies.map(function(e){return Number(e.id)})||[]}),V=Object(l.b)(function(e){return{agents:e.agents.agents,agent:e.agents.agent,agentCompaniesIds:H(e),selectBoxAgentCompanies:W(e),selectBoxAgents:Y(e),selectBoxDates:e.agents.selectBoxDates,pagination:e.agents.pagination,query:e.agents.query,openModalStatus:e.agents.openModalStatus,graphContactedLeadsAverage:e.agents.graphContactedLeadsAverage,pieGraphContactedLeadsAverage:e.agents.pieGraphContactedLeadsAverage,averageResponseTime:e.agents.averageResponseTime}},function(e){return{loadAgents:function(){return e(P())},getAgent:function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var a=Object(m.a)(p.a.mark(function a(n){var r;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,A.get("/v1/".concat(j.role,"/agents/").concat(e));case 3:return r=a.sent,a.next=6,n({type:"LOAD_AGENT_DATA",agent:r.data});case 6:if(!t){a.next=9;break}return a.next=9,n(L({name:r.data.name,path:"",active:!0},!1));case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n(d(a.t0.message,!0));case 14:case"end":return a.stop()}},a,null,[[0,11]])}));return function(e){return a.apply(this,arguments)}}()}(t,a))},filterAgents:function(t){return e(function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a,n){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(I(e));case 2:return t.next=4,a(P());case 4:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()}(t))},search:function(t){return e(function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a,n){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(M(e));case 2:return t.next=4,a(P());case 4:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()}(t))},sort:function(t){return e((a=t,function(){var e=Object(m.a)(p.a.mark(function e(t,n){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(N(a));case 2:return e.next=4,t(P());case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()));var a},gotoPage:function(t){return e(function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a,n){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(_(e));case 2:return t.next=4,a(P());case 4:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()}(t))},delete:function(t){return e((a=t,function(){var e=Object(m.a)(p.a.mark(function e(t,n){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.delete("/v1/".concat(j.role,"/agents/").concat(a));case 3:t(P()),t(d("Successfully deleted!")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(d(e.t0.message,!0));case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}()));var a},edit:function(t,a){return e(function(e,t){return function(a,n){a(function(e,t){return{type:"EDIT_AGENT",id:e,agent:t}}(e,t))}}(t,a))},create:function(t){return e(function(e,t){e(P())})},openModal:function(t){return e(function(e){return{type:"OPEN_AGENT_MODAL",open:e}}(t))},toggleShowDeleted:function(t){return e(function(){var e=Object(m.a)(p.a.mark(function e(t,a){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:"SHOW_DELETED_AGENTS"});case 2:return e.next=4,t(P());case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},loadSelectBoxAgents:function(t){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{search:"",companyId:""};return function(){var t=Object(m.a)(p.a.mark(function t(a,n){var r,o;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.get("/v1/".concat(j.role,"/agents"),{params:{companyId:e.companyId?e.companyId:null,search:e.search,current_page:1,per_page:100}});case 3:r=t.sent,o=r.data.data,a({type:"LOAD_SELECTBOX_AGENTS",agents:o}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(d(t.t0.message,!0));case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e,a){return t.apply(this,arguments)}}()}(t))},getAgentGraph:function(t,a,n){return e(function(e,t,a){return function(){var n=Object(m.a)(p.a.mark(function n(r){var o;return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,j.isCompany||j.isAgency?F(t,a):R(a);case 3:return o=n.sent,n.next=6,r({type:"LOAD_AGENT_LEADS_GRAPH",graphData:o.data});case 6:if(console.log("===========222222222222",o.data),!e){n.next=11;break}return e.data=o.data,n.next=11,e.update();case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),r(d(n.t0.message,!0));case 16:case"end":return n.stop()}},n,null,[[0,13]])}));return function(e){return n.apply(this,arguments)}}()}(t,a,n))},getAgentGraphPie:function(t,a,n){return e(function(e,t,a){return function(){var n=Object(m.a)(p.a.mark(function n(r){var o;return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,j.isCompany||j.isAgency?F(t,a):R(a);case 3:return o=n.sent,n.next=6,r({type:"LOAD_AGENT_LEADS_GRAPH_PIE",graphData:o.data});case 6:if(!e){n.next=10;break}return e.data=o.data,n.next=10,e.update();case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),r(d(n.t0.message,!0));case 15:case"end":return n.stop()}},n,null,[[0,12]])}));return function(e){return n.apply(this,arguments)}}()}(t,a,n))}}}),z=function(e){return{type:"ADD_SESSION_TOKEN",tokenData:e}},U="UPDATE_USER_PROFILE",Q="LOAD_PROFILE_FORM",K="CHANGE_PROFILE_FORM",X="CHANGE_PASSWORD_RESET_FORM",J=function(e){return{type:U,profile:e}},Z=function(e){return{type:Q,profile:e}},$=Object(l.b)(function(e){return{isAuthorised:e.auth.session.isAuthorised||j.isAuthorised(),token:e.auth.session.token,adminAccessToken:e.auth.session.adminAccessToken}},function(e){return{autoLogin:function(){return e(function(){var e=w.getItem("session"),t=b.a(!1,["token"],e),a=b.a({},["user"],e);return function(){var n=Object(m.a)(p.a.mark(function n(r){return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=7;break}return n.next=3,r(z(e));case 3:return n.next=5,r(J(a));case 5:return n.next=7,r(Z(a));case 7:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()}())},autoLoginBy:function(t){return e(function(e){var t=w.getItem("session"),a=b.a(!1,["token"],t);return b.a({},["user"],t),function(){var t=Object(m.a)(p.a.mark(function t(n,r){var o,c,s,l,i;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=25;break}return t.prev=1,o=r().auth.session.token,c=r().auth.session.user,t.next=6,A.post("/v1/autologin",{email:e,headers:{"Content-Type":"application/json",Authorization:a}});case 6:return s=t.sent,l=s.data,i={adminAccessToken:o,adminUser:c,token:l.access_token,user:l.user},w.setItem("session",i),t.next=12,n(z(i));case 12:return t.next=14,n(J(i.user));case 14:return t.next=16,n(Z(i.user));case 16:return t.next=18,n(d("You have been logged successfully!"));case 18:window.location.reload(),t.next=25;break;case 21:return t.prev=21,t.t0=t.catch(1),t.next=25,n(d(t.t0.message,!0));case 25:case"end":return t.stop()}},t,null,[[1,21]])}));return function(e,a){return t.apply(this,arguments)}}()}(t))},loginToAdmin:function(){return e(function(){var e=w.getItem("session"),t=b.a(!1,["token"],e);return function(){var e=Object(m.a)(p.a.mark(function e(a,n){var r,o,c;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=21;break}return e.prev=1,r=n().auth.session.adminAccessToken,o=n().auth.session.adminUser,c={token:r,user:o},w.setItem("session",c),e.next=8,a(z(c));case 8:return e.next=10,a(J(c.user));case 10:return e.next=12,a(Z(c.user));case 12:return e.next=14,a(d("You have been logged successfully!"));case 14:window.location="/",e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(1),e.next=21,a(d(e.t0.message,!0));case 21:case"end":return e.stop()}},e,null,[[1,17]])}));return function(t,a){return e.apply(this,arguments)}}()}())},login:function(t,a){return e(function(e,t){return function(){var a=Object(m.a)(p.a.mark(function a(n,r){var o,c,s;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,A.post("/login",{email:e,password:t});case 3:return o=a.sent,c=o.data,s={token:c.access_token,refreshToken:c.refresh_token,user:c.user},w.setItem("session",s),a.next=9,n(z(s));case 9:return a.next=11,n(J(s.user));case 11:return a.next=13,n(Z(s.user));case 13:return a.next=15,n(d("You have been logged successfully!"));case 15:window.webViewBridge.send("onLogin",s,function(e){console.log("===Success Send Login Data to app!!! ===: ",e)},function(e){console.error("===Error Send Login Data to app!!! ===: ",e)}),a.next=22;break;case 18:return a.prev=18,a.t0=a.catch(0),a.next=22,n(d(a.t0.message,!0));case 22:case"end":return a.stop()}},a,null,[[0,18]])}));return function(e,t){return a.apply(this,arguments)}}()}(t,a))},resetPassword:function(t){return e(function(e,t){return function(){var t=Object(m.a)(p.a.mark(function t(a,n){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.post("/password/reset",{email:e});case 3:if(!t.sent.data.id){t.next=8;break}return t.next=8,a(d("Password succesfully sent!"));case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,a(d(t.t0.message,!0));case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e,a){return t.apply(this,arguments)}}()}(t))},logout:function(){return e((w.removeItem("session"),window.webViewBridge.send("onLogout","",function(e){console.log("===Success Logout to app!!! ===: ",e)},function(e){console.error("===Error Logout to app!!! ===: ",e)}),function(e){e({type:"REMOVE_SESSION_TOKEN"})}))}}}),ee=Object(l.b)(function(e){return e.breadcrumb},function(e){return{addBreadCrumb:function(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e(L(t,a))},resetBreadCrumbToDefault:function(){return e({type:"RESET_BREADCRUMB"})}}}),te=function(e,t){return{type:"FETCH_CAMPAIGNS",companyId:e,dealId:t}},ae=function(e){return{type:"FETCH_AGENT_CAMPAIGNS",agentId:e}},ne=function(e,t){return{type:"LOAD_DEAL_CAMPAIGNS",campaigns:e,pagination:t}},re=function(e){return{type:"SORT_CAMPAIGNS",field:e}},oe=function(e){return{type:"GOTO_PAGE_CAMPAIGN",page:e}},ce=function(e,t,a){return A.get("/v1/agency/companies/".concat(e,"/deals/").concat(t,"/campaigns"),{params:a})},se=function(e,t){return A.get("/v1/".concat(j.role,"/agents/").concat(e,"/campaigns"),{params:t})},le=function(e,t){return A.get("/v1/company/deals/".concat(e,"/campaigns"),{params:t})},ie=function(){return function(){var e=Object(m.a)(p.a.mark(function e(t,a){var n,r,o,c,s,l,i,u,m,h;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t({type:"SHOW_LOADER"});case 3:if(n=a().campaigns,r=n.pagination,o=n.companyId,c=n.dealId,s=n.agentId,l=n.query,!(j.isAgency&&o&&c)){e.next=10;break}return e.next=7,ce(o,c,Object(x.a)({current_page:r.current_page,per_page:r.per_page,showDeleted:l.showDeleted?l.showDeleted:null},l.sort));case 7:i=e.sent,e.next=19;break;case 10:if(!c){e.next=16;break}return e.next=13,le(c,Object(x.a)({current_page:r.current_page,per_page:r.per_page,showDeleted:l.showDeleted?l.showDeleted:null},l.sort));case 13:i=e.sent,e.next=19;break;case 16:return e.next=18,se(s,Object(x.a)({current_page:r.current_page,per_page:r.per_page,showDeleted:l.showDeleted?l.showDeleted:null},l.sort));case 18:i=e.sent;case 19:return u=i.data,m=u.data,h=Object(k.a)(u,["data"]),e.next=22,t(ne(m,h));case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),t(d(e.t0.message,!0));case 27:return e.next=29,t({type:"HIDE_LOADER"});case 29:case"end":return e.stop()}},e,null,[[0,24]])}));return function(t,a){return e.apply(this,arguments)}}()},ue={header:{title:"Only Subscribe"},fullname:{order:1,label:"Full name",placeholder:"Full name",value:"",isRequired:!0,isVisible:!0},email:{order:2,label:"E-mail",placeholder:"E-mail",value:"",isRequired:!0,isVisible:!0},phone:{order:3,label:"Phone",placeholder:"Phone",value:"",isRequired:!0,isVisible:!0},button:{name:"Subscribe"}},pe=function(e){return A.post("/v1/agency/companies/".concat(e.companyId,"/deals/").concat(e.dealId,"/campaigns"),e)},me=function(e){return A.post("/v1/company/deals/".concat(e.dealId,"/campaigns"),e)},de=function(e){return A.patch("/v1/agency/companies/".concat(e.companyId,"/deals/").concat(e.dealId,"/campaigns/").concat(e.id),e)},he=function(e){return A.patch("/v1/company/deals/".concat(e.dealId,"/campaigns/").concat(e.id),e)},fe=function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.companyId||!j.isAgency){t.next=3;break}throw new Error("Missing required company!");case 3:if(e.dealId){t.next=5;break}throw new Error("Missing required deal!");case 5:return t.next=7,j.isAgency?de(e):he(e);case 7:return t.next=9,a({type:"SAVED_CAMPAIGN"});case 9:return t.next=11,a(ie());case 11:return t.next=13,a(d("Successfully saved!"));case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),a(d(t.t0.message,!0));case 18:case"end":return t.stop()}},t,null,[[0,15]])}));return function(e){return t.apply(this,arguments)}}()},ge=function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a,n){var r;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.companyId||!j.isAgency){t.next=3;break}throw new Error("Missing required company!");case 3:if(e.dealId){t.next=5;break}throw new Error("Missing required deal!");case 5:return r=Object(x.a)({},e,{integration_config:JSON.stringify(ue)}),t.next=8,j.isAgency?pe(r):me(r);case 8:return t.next=10,a({type:"SAVED_CAMPAIGN"});case 10:return t.next=12,a(ie());case 12:return t.next=14,a(d("Successfully saved!"));case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),a(d(t.t0.message,!0));case 19:case"end":return t.stop()}},t,null,[[0,16]])}));return function(e,a){return t.apply(this,arguments)}}()},Ee=Object(l.b)(function(e){return{form:e.forms.campaign.form,integrationTypes:e.forms.campaign.integrationTypes,companyAgents:e.forms.campaign.integrationTypes,required:e.forms.campaign.required,show:e.forms.campaign.show}},function(e){return{loadForm:function(t){return e({type:"LOAD_CAMPAIGN",form:t})},changeForm:function(t){return e({type:"CHANGE_CAMPAIGN",form:t})},saveForm:function(t){return e((a=t,function(e){try{a.id?e(fe(a)):e(ge(a))}catch(t){d(t.message,!0)}}));var a}}}),be=Object(G.a)([function(e){return e.deals},function(e){return e.campaigns.dealId}],function(e,t){var a=e.deals;return a&&a.find(function(e){return+e.id===+t})}),ve=Object(l.b)(function(e){return{campaigns:e.campaigns.campaigns,deal:be(e),pagination:e.campaigns.pagination,query:e.campaigns.query}},function(e){return{loadDealCampaigns:function(t,a){return e(function(e,t){return function(){var a=Object(m.a)(p.a.mark(function a(n,r){return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,n(ae(""));case 3:return a.next=5,n(te(e,t));case 5:return a.next=7,n(ie());case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),n(d(a.t0.message,!0));case 12:case"end":return a.stop()}},a,null,[[0,9]])}));return function(e,t){return a.apply(this,arguments)}}()}(t,a))},loadAgentCampaigns:function(t){return e(function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a(te("",""));case 3:return t.next=5,a(ae(e));case 5:return t.next=7,a(ie());case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a(d(t.t0.message,!0));case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()}(t))},deleteCampaign:function(t,a,n){return e(function(e,t,a){return function(){var n=Object(m.a)(p.a.mark(function n(r){return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,A.delete("/v1/".concat(j.role,"/companies/").concat(e,"/deals/").concat(t,"/campaigns/").concat(a));case 3:return n.next=5,r(ie());case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),r(d(n.t0.message,!0));case 10:case"end":return n.stop()}},n,null,[[0,7]])}));return function(e){return n.apply(this,arguments)}}()}(t,a,n))},gotoPage:function(t){return e(function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(oe(e));case 2:return t.next=4,a(ie());case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(t))},sort:function(t){return e(function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(re(e));case 2:return t.next=4,a(ie());case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(t))},toggleShowDeleted:function(){return e(function(){var e=Object(m.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:"SHOW_DELETED_CAMPAIGNS"});case 2:return e.next=4,t(ie());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},subscribeCampaignToFbIntegration:function(t,a){return e(function(e,t){return function(){var a=Object(m.a)(p.a.mark(function a(n){return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,A.post("/v1/".concat(j.role,"/campaigns/").concat(e,"/fb-integrations"),t);case 3:return a.next=5,n(ie());case 5:a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),n(d(a.t0.message,!0));case 10:case"end":return a.stop()}},a,null,[[0,7]])}));return function(e){return a.apply(this,arguments)}}()}(t,a))},unsubscribeCampaignToFbIntegration:function(t,a){return e(function(e,t){return function(){var a=Object(m.a)(p.a.mark(function a(n){return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,A.delete("/v1/".concat(j.role,"/campaigns/").concat(e,"/fb-integrations/").concat(t));case 3:return a.next=5,n(ie());case 5:a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),n(d(a.t0.message,!0));case 10:case"end":return a.stop()}},a,null,[[0,7]])}));return function(e){return a.apply(this,arguments)}}()}(t,a))}}}),ye=function(e,t){return{type:"ADD_COMPANIES",companies:e,pagination:t}},Ce=function(e){return{type:"SEARCH_COMPANIES",search:e}},Oe=function(e){return{type:"SORT_COMPANIES",field:e}},Ae=function(e){return A.patch("/v1/agency/companies/".concat(e.id,"/lock-status"),e)},De=function(e){return A.get("/v1/".concat(j.role,"/companies"),{params:e})},we=function(e){return A.get("/v1/agency/companies/".concat(e))},je=function(e,t){return A.get("/v1/agency/companies/".concat(e,"/graph/").concat(t.graphType),{params:t})},ke=function(){return function(){var e=Object(m.a)(p.a.mark(function e(t,a){var n,r,o,c,s,l,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a().companies,r=n.pagination,o=n.query,t({type:"SHOW_LOADER"}),e.next=5,De(Object(x.a)({per_page:r.per_page,current_page:r.current_page,showDeleted:o.showDeleted?1:null,search:o.search?o.search:""},o.sort));case 5:return c=e.sent,s=c.data,l=s.data,i=Object(k.a)(s,["data"]),e.next=9,t(ye(l,i));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t(d(e.t0.message,!0));case 14:t({type:"HIDE_LOADER"});case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t,a){return e.apply(this,arguments)}}()},xe=Object(G.a)(function(e){return e.companies.selectBoxCompanies},function(e){return e.map(function(e){return{key:e.id,value:e.id,text:e.name}})}),Se=Object(G.a)([function(e){return e.companies.selectBoxCompanies},function(e){return e.companies.companyId}],function(e,t){if(e&&e.length){var a=e.find(function(e){return+e.id===+t});if(a&&a.campaigns&&a.campaigns.length)return a.campaigns.map(function(e){return{key:e.id,value:e.id,text:e.name}})}return[]}),Ie=Object(l.b)(function(e){return{company:e.companies.company,companies:e.companies.companies,selectBoxCompanies:xe(e),selectBoxDealCampaigns:Se(e),pagination:e.companies.pagination,query:e.companies.query,openModal:e.companies.openModal,companyGraph:e.companies.graphContactedLeadsAverage,companyAverageResponseTime:e.companies.averageResponseTime}},function(e){return{loadCompanies:function(){return e(ke())},searchCompanies:function(t){return e(function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(Ce(e));case 2:return t.next=4,a(ke());case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(t))},updateLockStatusCompany:function(t){return e((a=t,function(){var e=Object(m.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ae(a);case 3:return t(d("Successfully saved")),e.next=6,t(ke());case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(d(e.t0.message,!0));case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()));var a},loadSelectBoxCompanies:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(){var a=Object(m.a)(p.a.mark(function a(n){var r,o;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,De({agentId:t,reduced:1,search:e||null,per_page:1e4});case 3:r=a.sent,o=r.data.data,n({type:"ADD_SELECT_BOX_COMPANIES",companies:o}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n(d(a.t0.message,!0));case 11:case"end":return a.stop()}},a,null,[[0,8]])}));return function(e){return a.apply(this,arguments)}}()}(t,a))},gotoCompaniesPage:function(t){return e(function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a({type:"GOTO_COMPANIES_PAGE",page:e});case 2:return t.next=4,a(ke());case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(t))},sort:function(t){return e(function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a,n){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(Oe(e));case 2:a(ke());case 3:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()}(t))},openCompanyModal:function(t){return e(function(e){return{type:"OPEN_COMPANY_MODAL",open:e}}(t))},deleteCompany:function(t){return e(function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"SHOW_LOADER"}),t.next=4,A.delete("/v1/".concat(j.role,"/companies/").concat(e));case 4:if(!t.sent.data){t.next=8;break}return t.next=8,a(ke());case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a(d(t.t0.message,!0));case 13:a({type:"HIDE_LOADER"});case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e){return t.apply(this,arguments)}}()}(t))},toggleShowDeleted:function(){return e(function(){var e=Object(m.a)(p.a.mark(function e(t,a){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:"TOGGLE_WITH_DELETED"});case 2:t(ke());case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},getCompanyBy:function(t,a){return e(function(e,t){return function(){var a=Object(m.a)(p.a.mark(function a(n){var r;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,we(e);case 3:return r=a.sent,a.next=6,n({type:"LOAD_COMPANY",company:r.data});case 6:if(!t){a.next=9;break}return a.next=9,n(L({name:r.data.name,path:"",active:!0},!1));case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n(d(a.t0.message,!0));case 14:case"end":return a.stop()}},a,null,[[0,11]])}));return function(e){return a.apply(this,arguments)}}()}(t,a))},getCompanyGraph:function(t,a,n){return e(function(e,t,a){return function(){var n=Object(m.a)(p.a.mark(function n(r){var o;return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,j.isAgency?je(t,a):(c=a,A.get("/v1/company/graph/".concat(c.graphType),{params:c}));case 3:return o=n.sent,n.next=6,r({type:"LOAD_COMPANY_GRAPH_CONTACTED_LEADS_AVERAGE",graphData:o.data});case 6:if(!e){n.next=10;break}return e.data=o.data,n.next=10,e.update();case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),r(d(n.t0.message,!0));case 15:case"end":return n.stop()}var c},n,null,[[0,12]])}));return function(e){return n.apply(this,arguments)}}()}(t,a,n))},loadCompanyCampaigns:function(t){return e(function(e){return{type:"LOAD_COMPANY_CAMPAIGNS",companyId:e}}(t))}}}),Ne=function(e){return A.post("/v1/agency/companies",e)},Me=function(e){return A.patch("/v1/agency/companies/".concat(e.id),e)},_e=function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ne(e);case 3:return a(d("Successfully saved")),a({type:"SAVED_COMPANY"}),t.next=7,a(ke());case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a(d(t.t0.message,!0));case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()},Le=function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Me(e);case 3:return a(d("Successfully saved")),a({type:"SAVED_COMPANY"}),t.next=7,a(ke());case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a(d(t.t0.message,!0));case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()},Fe=Object(l.b)(function(e){return{form:e.forms.company.form,required:e.forms.company.required,show:e.forms.company.form.show}},function(e){return{loadForm:function(t){return e({type:"LOAD_COMPANY_FORM",form:t})},changeForm:function(t){return e({type:"CHANGE_COMPANY",form:t})},saveForm:function(t){return e((a=t,function(e){try{a.id?e(Le(a)):e(_e(a))}catch(t){d(t.message,!0)}}));var a}}}),Re=function(e,t){return{type:"LOAD_USERS",users:e,pagination:t}},Pe=function(e){return{type:"SORT_USERS",field:e}},Te=function(e){return{type:"SEARCH_USERS",search:e}},qe=function(){return function(){var e=Object(m.a)(p.a.mark(function e(t,a){var n,r,o,c,s,l,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a().users,r=n.query,o=n.pagination,e.next=4,A.get("/v1/admin/users",{params:Object(x.a)({},r,{per_page:o.per_page,current_page:o.current_page})});case 4:c=e.sent,s=c.data,l=s.data,i=Object(k.a)(s,["data"]),t(Re(l,i)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(d(e.t0.message,!0));case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t,a){return e.apply(this,arguments)}}()},Be=function(e){return A.post("/v1/admin/users",e)},Ge=function(e){return A.patch("/v1/admin/users/".concat(e.id),e)},Ye=function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Be(e);case 3:return a(d("Successfully saved")),a({type:"SAVED_USER"}),t.next=7,a(qe());case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a(d(t.t0.message,!0));case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()},We=function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ge(e);case 3:return a(d("Successfully saved")),a({type:"SAVED_USER"}),t.next=7,a(qe());case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a(d(t.t0.message,!0));case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()},He=Object(l.b)(function(e){return{form:e.forms.user.form,required:e.forms.user.required,show:e.forms.user.form.show}},function(e){return{loadForm:function(t){return e({type:"LOAD_USER_FORM",form:t})},changeForm:function(t){return e({type:"CHANGE_USER",form:t})},saveForm:function(t){return e((a=t,function(e){try{a.id?e(We(a)):e(Ye(a))}catch(t){d(t.message,!0)}}));var a}}}),Ve="ADD_COMPANY_DEALS",ze="CREATE_COMPANY_DEAL",Ue="UPDATE_COMPANY_DEAL",Qe="FILTER_DEALS_BY_COMPANY",Ke="FILTER_DEALS_BY_ID",Xe="FILTER_DEAL_CAMPAIGNS_BY_ID",Je="SEARCH_DEALS_BY_COMPANY",Ze=function(e){return A.get("/v1/agency/deals",{params:e})},$e=function(e){return A.get("/v1/company/deals",{params:e})},et=function(e,t){return A.delete("/v1/agency/companies/".concat(e,"/deals/").concat(t))},tt=function(e){return A.delete("/v1/company/deals/".concat(e))},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;return function(){var a=Object(m.a)(p.a.mark(function a(n){var r,o,c;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"SHOW_LOADER"}),r={per_page:t,current_page:e},a.next=5,j.isAgency?Ze(r):$e(r);case 5:return o=a.sent,c=o.data,a.next=9,n((s=c.data,{type:Ve,deals:s}));case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n(d(a.t0.message,!0));case 14:n({type:"HIDE_LOADER"});case 15:case"end":return a.stop()}var s},a,null,[[0,11]])}));return function(e){return a.apply(this,arguments)}}()},nt=function(e){return A.post("/v1/agency/companies/".concat(e.companyId,"/deals"),e)},rt=function(e){return A.post("/v1/company/deals",e)},ot=function(e){return A.patch("/v1/agency/companies/".concat(e.companyId,"/deals/").concat(e.id),e)},ct=function(e){return A.patch("/v1/company/deals/".concat(e.id),e)},st=function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.companyId||!j.isAgency){t.next=3;break}throw new Error("Missing required Company!");case 3:return t.next=5,j.isAgency?nt(e):rt(e);case 5:return t.next=7,a(d("Successfully saved!"));case 7:return t.next=9,a({type:"SAVED_DEAL"});case 9:return t.next=11,a(at());case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),a(d(t.t0.message,!0));case 16:case"end":return t.stop()}},t,null,[[0,13]])}));return function(e){return t.apply(this,arguments)}}()},lt=function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.companyId||!j.isAgency){t.next=3;break}throw new Error("Missing required Company!");case 3:return t.next=5,j.isAgency?ot(e):ct(e);case 5:return t.next=7,a(d("Successfully saved!"));case 7:return t.next=9,a({type:"SAVED_DEAL"});case 9:return t.next=11,a(at());case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),a(d(t.t0.message,!0));case 16:case"end":return t.stop()}},t,null,[[0,13]])}));return function(e){return t.apply(this,arguments)}}()},it=Object(l.b)(function(e){return{form:e.forms.deal,show:e.forms.deal.show}},function(e){return{loadForm:function(t){return e({type:"LOAD_DEAL",form:t})},changeForm:function(t){return e({type:"CHANGE_DEAL",form:t})},saveForm:function(t){return e((a=t,function(e){try{a.id?e(lt(a)):e(st(a))}catch(t){d(t.message,!0)}}));var a}}}),ut=function(e){return{type:"LOAD_TIMELINE_LEAD",lead:e}},pt=function(e,t){return A.get("/v1/agency/companies/".concat(e,"/leads/").concat(t))},mt=function(e,t,a){return A.post("/v1/agency/companies/".concat(e,"/leads/").concat(t,"/notes"),a)},dt=function(e,t){return A.post("/v1/company/leads/".concat(e,"/notes"),t)},ht=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var n=Object(m.a)(p.a.mark(function n(r){var o,c;return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r({type:"SHOW_LOADER"});case 3:return n.next=5,j.isAgency?pt(e,t):(s=t,A.get("/v1/".concat(j.role,"/leads/").concat(s)));case 5:return o=n.sent,c=o.data,n.next=9,r(ut(c));case 9:if(a){n.next=12;break}return n.next=12,r(L({name:c.fullname||c.email||c.phone,path:"/"},!1));case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),r(d(n.t0.message,!0));case 17:return n.next=19,r({type:"HIDE_LOADER"});case 19:case"end":return n.stop()}var s},n,null,[[0,14]])}));return function(e){return n.apply(this,arguments)}}()},ft=function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.post("/v1/agent/leads/".concat(e.leadId,"/reminders"),e);case 3:return a(d("Successfully saved!")),t.next=6,a({type:"SAVED_REMINDER"});case 6:return t.next=8,a(ht(e.companyId,e.leadId,!0));case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,a(d(t.t0.message,!0));case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e){return t.apply(this,arguments)}}()},gt=function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.patch("/v1/agent/leads/".concat(e.leadId,"/reminders/").concat(e.id),e);case 3:return t.next=5,a({type:"SAVED_REMINDER"});case 5:return t.next=7,a(ht(e.companyId,e.leadId,!0));case 7:a(d("Successfully updated!")),t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,a(d(t.t0.message,!0));case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e){return t.apply(this,arguments)}}()},Et=Object(l.b)(function(e){return{form:e.forms.reminder.form,show:e.forms.reminder.form.show,required:e.forms.reminder.required}},function(e){return{loadForm:function(t){return e({type:"LOAD_REMINDER",form:t})},changeForm:function(t){return e({type:"CHANGE_REMINDER",form:t})},saveForm:function(t){return e((a=t,function(e){try{a.id?e(gt(a)):e(ft(a))}catch(t){e(d(t.message,!0))}}));var a},deleteForm:function(t){return e((a=t,function(){var e=Object(m.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.delete("/v1/agent/leads/".concat(a.leadId,"/reminders/").concat(a.id));case 3:return e.next=5,t({type:"SAVED_REMINDER"});case 5:return e.next=7,t(ht(a.companyId,a.leadId,!0));case 7:t(d("Successfully deleted!")),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,t(d(e.t0.message,!0));case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()));var a}}}),bt=function(e){var t=e.deals,a=e.filters;return t.filter(function(t){return(!a.companyId||t.company.id===e.filters.companyId)&&null===t.deleted_at}).filter(function(e){return!a.search||-1!==e.name.search(new RegExp(a.search,"i"))})},vt=Object(G.a)(function(e){return e.deals},bt),yt=Object(G.a)(function(e){return e.deals},function(e){var t=e.deals,a=e.filters;return t.filter(function(t){return(!a.companyId||t.company.id===e.filters.companyId)&&null!==t.deleted_at}).filter(function(e){return!a.search||-1!==e.name.search(new RegExp(a.search,"i"))})}),Ct=Object(G.a)(function(e){return bt(e.deals)},function(e){return e.map(function(e){return{key:e.id,value:e.id,text:e.name}})}),Ot=Object(G.a)(function(e){return e.deals},function(e){var t=e.deals,a=e.filters,n=t.find(function(e){return e.id===a.dealId});return n?n.campaigns&&n.campaigns.map(function(e){return{key:e.id,value:e.id,text:e.name}}):[]}),At=Object(G.a)(function(e){return e.deals},function(e){var t=e.deals,a=e.filters,n=t.find(function(e){return e.id===a.dealId});if(n){var r=n.campaigns&&n.campaigns.find(function(e){return e.id===a.campaignId});if(r)return r.agents&&r.agents.map(function(e){return{key:e.id,value:e.id,text:e.name}})}return[]}),Dt=Object(l.b)(function(e){return{deals:vt(e),deleted_deals:yt(e),filters:e.deals.filters,selectBoxDeals:Ct(e),selectBoxDealCampaigns:Ot(e),selectBoxDealCampaignAgents:At(e)}},function(e){return{getCompanyDeals:function(){return e(at())},deleteDeal:function(t,a){return e(function(e,t){return function(){var a=Object(m.a)(p.a.mark(function a(n){return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,j.isAgency?et(e,t):tt(t);case 3:return a.next=5,n(at());case 5:a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),n(d(a.t0.message,!0));case 10:case"end":return a.stop()}},a,null,[[0,7]])}));return function(e){return a.apply(this,arguments)}}()}(t,a))},filterDealsByCompany:function(t){return e(function(e){return{type:Qe,id:e}}(t))},filterDealsByDealId:function(t){return e(function(e){return{type:Ke,id:e}}(t))},filterDealCampaignsById:function(t){return e(function(e){return{type:Xe,id:e}}(t))},searchDealCompaniesBy:function(t){return e(function(e){return{type:Je,search:e}}(t))}}}),wt=function(e){return{type:"RESET_FORM",form:e}},jt=a(809),kt=a(778),xt=a(811),St=a(825),It=a(779),Nt=a(780),Mt=a(781),_t=a(782),Lt=Object(G.a)(function(e){return b.a({},["integrations","optinForm","campaign","integration_config"],e)},jt.a(function(e){return kt.a(function(e,t){return Object(x.a)({},e,{name:t})},e)},y.a,xt.a(St.a("isVisible")),It.a([Nt.a(Mt.a("order")),_t.a(Mt.a("isRequired"))]))),Ft=Object(l.b)(function(e){return{campaign:e.integrations.optinForm.campaign,integrationForm:e.integrations.optinForm.campaign.integration_config,integrationFormFields:Lt(e),form:e.integrations.optinForm.form}},function(e){return{loadCampaignBy:function(t){return e(function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){var n,r;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a({type:"SHOW_LOADER"});case 3:return t.next=5,A.get("/v1/campaigns/".concat(e));case 5:return n=t.sent,r=n.data,t.next=9,a({type:"LOAD_CAMPAIGN_INTEGRATION",campaign:r});case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a(d(t.t0.message,!0));case 14:return t.next=16,a({type:"HIDE_LOADER"});case 16:case"end":return t.stop()}},t,null,[[0,11]])}));return function(e){return t.apply(this,arguments)}}()}(t))},createLead:function(t){return e(function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a,n){var r;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a({type:"SHOW_LOADER"});case 3:return r=n().integrations.optinForm.campaign.uuid,t.next=6,A.post("/v1/campaigns/".concat(r,"/leads"),e);case 6:return t.next=8,a(wt({showResend:!0,show:!1}));case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a(d(t.t0.message,!0));case 13:return t.next=15,a({type:"HIDE_LOADER"});case 15:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e,a){return t.apply(this,arguments)}}()}(t))},changeForm:function(t){return e(function(e){return{type:"CHANGE_FIELD_INTEGRATION",field:e}}(t))},resetForm:function(t){return e(wt(t))}}}),Rt=function(e,t){return{type:"LOAD_LEADS",leads:e,pagination:t}},Pt=function(e){return{type:"FILTER_LEADS",filters:e}},Tt=function(e){return{type:"SEARCH_LEADS",search:e}},qt=function(e){return{type:"GOTO_PAGE_LEADS",activePage:e}},Bt=function(e){return{type:"SORT_LEADS",field:e}},Gt=function(e,t){return{type:"AGENT_LOAD_LEADS",leads:e,pagination:t}},Yt=function(e){return{type:"AGENT_LOAD_LEADS_BY_STATUSES",statuses:e}},Wt=function(e){return{type:"AGENT_SEARCH_LEADS",search:e}},Ht=function(e){return A.get("/v1/".concat(j.role,"/leads"),{params:e})},Vt=function(e,t){return A.delete("/v1/".concat(j.role,"/companies/").concat(e,"/leads/").concat(t))},zt=function(e){return A.delete("/v1/".concat(j.role,"/leads/").concat(e))},Ut=function(){return function(){var e=Object(m.a)(p.a.mark(function e(t,a){var n,r,o,c,s,l,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"SHOW_LOADER"}),e.prev=1,n=a().leads,r=n.query,o=n.pagination,e.next=5,Ht(Object(x.a)({},r.filters,r.sort,{search:r.search,showDeleted:r.showDeleted?r.showDeleted:null,per_page:o.per_page,current_page:o.current_page}));case 5:c=e.sent,s=c.data,l=s.data,i=Object(k.a)(s,["data"]),console.log("resoponse.data====>",c.data),t(Rt(l,i)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t(d(e.t0.message,!0));case 14:t({type:"HIDE_LOADER"});case 15:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t,a){return e.apply(this,arguments)}}()},Qt=function(){return function(){var e=Object(m.a)(p.a.mark(function e(t,a){var n,r,o,c,s,l,i,u,m;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"SHOW_LOADER"}),e.prev=1,n=a().leads,r=n.query,o=n.pagination,c=n.agentLeadStatuses,e.next=5,Ht({statuses:c.join(","),search:r.search,per_page:100,current_page:o.current_page,startDate:r.filters.startDate,endDate:r.filters.endDate});case 5:s=e.sent,l=s.data.leads,i=l.data,u=Object(k.a)(l,["data"]),m=s.data.new_leads_count,t(Gt(i,u)),t({type:"AGENT_NEW_LEADS_COUNT",count:m}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),t(d(e.t0.message,!0));case 15:t({type:"HIDE_LOADER"});case 16:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t,a){return e.apply(this,arguments)}}()},Kt=function(e){return A.patch("/v1/".concat(j.role,"/companies/").concat(e.company_id,"/leads/").concat(e.id),e)},Xt=function(e){return A.patch("/v1/".concat(j.role,"/leads/").concat(e.id),e)},Jt=function(e){return A.post("/v1/".concat(j.role,"/companies/").concat(e.company_id,"/leads"),e)},Zt=function(e){return A.post("/v1/".concat(j.role,"/leads"),e)},$t=function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){var n,r;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!j.isAgency){t.next=10;break}return t.next=4,Kt(e);case 4:return n=t.sent,r=n.data,t.next=8,a(ut(r));case 8:t.next=12;break;case 10:return t.next=12,Xt(e);case 12:return t.next=14,a({type:"SAVED_LEAD"});case 14:if(j.isAgent){t.next=17;break}return t.next=17,a(Ut());case 17:a(d("Successfully saved!")),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(0),a(d(t.t0.message,!0));case 23:case"end":return t.stop()}},t,null,[[0,20]])}));return function(e){return t.apply(this,arguments)}}()},ea=function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!j.isAgency){t.next=6;break}return t.next=4,Jt(e);case 4:t.next=8;break;case 6:return t.next=8,Zt(e);case 8:return t.next=10,a({type:"SAVED_LEAD"});case 10:if(j.isAgent){t.next=15;break}return t.next=13,a(Ut());case 13:t.next=16;break;case 15:window.location="/companies/leads/all";case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),a(d(t.t0.message,!0));case 21:case"end":return t.stop()}},t,null,[[0,18]])}));return function(e){return t.apply(this,arguments)}}()},ta=Object(l.b)(function(e){return{formSaved:e.forms.lead.formSaved,form:e.forms.lead.form,show:e.forms.lead.form.show,required:e.forms.lead.required}},function(e){return{loadForm:function(t){return e({type:"LOAD_LEAD",form:t})},changeForm:function(t){return e({type:"CHANGE_LEAD",form:t})},saveForm:function(t){return e((a=t,function(e){try{a.id?e($t(a)):e(ea(a))}catch(t){d(t.message,!0)}}));var a}}}),aa=a(174),na=a(808),ra=function(e){var t=aa.a(e.leads.statuses);return na.a(function(t){return{kay:t,text:e.leads.statuses[t].name||t,value:t,label:{color:e.leads.statuses[t].color,empty:!0,circular:!0}}},t)},oa=Object(l.b)(function(e){return{leads:e.leads.leads,newLeadsCount:e.leads.newLeadsCount,agentLeads:e.leads.agentLeads,pagination:e.leads.pagination,statuses:e.leads.statuses,selectBoxStatuses:ra(e),selectBoxDates:e.agents.selectBoxDates,query:e.leads.query,openModal:e.leads.openModal,openModalStatus:e.leads.openModalStatus}},function(e){return{loadLeads:function(){return e(Ut())},delete:function(t,a){return e(function(e,t){return function(){var a=Object(m.a)(p.a.mark(function a(n){return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!j.isAgency){a.next=6;break}return a.next=4,Vt(e,t);case 4:a.next=8;break;case 6:return a.next=8,zt(t);case 8:return a.next=10,n(Ut());case 10:n(d("Successfully deleted")),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),n(d(a.t0.message,!0));case 16:case"end":return a.stop()}},a,null,[[0,13]])}));return function(e){return a.apply(this,arguments)}}()}(t,a))},filterLeads:function(t){return e(function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(Pt(e));case 2:return t.next=4,a(Ut());case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(t))},searchLeads:function(t){return e(function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(Tt(e));case 2:return t.next=4,a(Ut());case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(t))},gotoPage:function(t){return e(function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(qt(e));case 2:return t.next=4,a(Ut());case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(t))},toggleShowDeleted:function(){return e(function(){var e=Object(m.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:"SHOW_DELETE_LEADS"});case 2:return e.next=4,t(Ut());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},sort:function(t){return e(function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(Bt(e));case 2:return t.next=4,a(Ut());case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(t))},openModal:function(t){return e({type:"OPEN_LEAD_MODAL",status:t})},searchAgentLeads:function(t){return e(function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(Wt(e));case 2:return t.next=4,a(Qt());case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(t))},filterAgentLeads:function(t){return e(function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(Pt(e));case 2:return t.next=4,a(Qt());case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(t))},agentLeadsByStatuses:function(t){return e(function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a({type:"AGENT_RESET_LEADS"});case 2:return t.next=4,a(Yt(e));case 4:return t.next=6,a(qt(1));case 6:return t.next=8,a(Qt());case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(t))},scrollToPage:function(t){return e(function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(qt(e));case 2:return t.next=4,a(Qt());case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(t))}}}),ca=Object(l.b)(function(e){return{loadReady:e.loader.ready}},function(e){return{showLoader:function(){return e({type:"SHOW_LOADER"})},hideLoader:function(){return e({type:"HIDE_LOADER"})}}}),sa="GET_USER_MENU",la=Object(l.b)(function(e){return e.menu},function(e){return{getUserSideBarMenu:function(t){e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"agency";return{type:sa,role:e}}(t))}}}),ia=Object(l.b)(function(e){return{}},function(e){return{sendMessage:function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e(d(t,a))},sendMessageInfo:function(t){return e(function(e){return function(t){i.toast.info(e,{position:i.toast.POSITION.TOP_RIGHT})}}(t))},sendMessageWarn:function(t){return e(function(e){return function(t){i.toast.warn(e,{position:i.toast.POSITION.TOP_RIGHT})}}(t))}}}),ua=function(e){return{type:"LOAD_OPTIN_FORM",form:e}},pa=function(e){return{type:"SAVE_OPTION_FORM",form:e}},ma=Object(l.b)(function(e){return{show:e.forms.optinFormIntegration.form.show,form:e.forms.optinFormIntegration.form,optinFormLink:"".concat(C.get("REACT_APP_WEB_URI"),"/campaign/").concat(e.forms.optinFormIntegration.form.uuid)}},function(e){return{loadForm:function(t){return e(ua(t))},loadOptinForm:function(t){return e(ua(t))},changeOptinForm:function(t,a){return e(function(e,t){return{type:"CHANGE_OPTION_FORM_FIELD",field:e,fieldData:t}}(t,a))},saveForm:function(t){return e(function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.companyId){t.next=3;break}throw new Error("Missing required company!");case 3:if(e.dealId){t.next=5;break}throw new Error("Missing required deal!");case 5:return t.next=7,A.patch("/v1/".concat(j.role,"/companies/").concat(e.companyId,"/deals/").concat(e.dealId,"/campaigns/").concat(e.id),{integration_config:JSON.stringify(e.integrationForm)});case 7:return t.next=9,a(pa());case 9:return t.next=11,a(ie());case 11:return t.next=13,a(d("Successfully saved!"));case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),a(d(t.t0.message,!0));case 18:case"end":return t.stop()}},t,null,[[0,15]])}));return function(e){return t.apply(this,arguments)}}()}(t))}}}),da=function(){return function(){var e=Object(m.a)(p.a.mark(function e(t){var a,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.get("/v1/profile");case 3:return a=e.sent,n=a.data,e.next=7,t(J(n));case 7:return e.next=9,t(Z(n));case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}()},ha=Object(G.a)(function(e){return e.profile.profile},function(e){return e.agencies&&e.agencies.map(function(e){return{key:e.agency_company_id,value:e.agency_company_id,text:e.name}})}),fa=Object(l.b)(function(e){return{profile:e.profile.profile,selectBoxAgencies:ha(e),profileForm:e.profile.profileForm,passwordResetForm:e.profile.passwordResetForm}},function(e){return{getUserProfile:function(){return e(da())},updateUserProfile:function(t){return e(function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.patch("/v1/profile",e);case 3:return t.next=5,a(da());case 5:a(d("Successfully saved!")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(d(t.t0.message,!0));case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()}(t))},changeProfileForm:function(t){return e(function(e){return{type:K,profile:e}}(t))},changePasswordResetForm:function(t){return e({type:X,passwordResetForm:t})}}}),ga=a(783),Ea=a(326),ba=a.n(Ea),va={NEW:{color:"purple",icon:"N"},VIEWED:{color:"teal",icon:"V",name:"Follow-up"},CONTACTED_SMS:{color:"orange",icon:"C"},CONTACTED_CALL:{color:"orange",icon:"C"},CONTACTED_EMAIL:{color:"orange",icon:"C"},MISSED:{color:"red",icon:"M"},BAD:{color:"red",icon:"B"},SOLD:{color:"green",icon:"S"}},ya=jt.a(kt.a(function(e,t){return{key:t,text:e.name||ba()(ga.a(/_/g," ",t)),value:t}}),y.a)(va),Ca=Object(l.b)(function(e){return{lead:e.leadNotes.lead,leadNotes:e.leadNotes.leadNotes,reminders:e.leadNotes.reminders,leadStatuses:ya}},function(e){return{loadLead:function(t,a){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e(ht(t,a,n))},createLeadNote:function(t){return e(function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a,n){var r;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=n().leadNotes.lead,t.next=4,j.isAgency?mt(r.company.id,r.id,e):dt(r.id,e);case 4:return a(ht(r.company.id,r.id,!0)),t.next=7,a(d("Successfully added"));case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a(d(t.t0.message,!0));case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e,a){return t.apply(this,arguments)}}()}(t))}}}),Oa=Object(l.b)(function(e){return{users:e.users.users,pagination:e.users.pagination,query:e.users.query}},function(e){return{loadUsers:function(){return e(qe())},toggleShowDeleted:function(){return e(function(){var e=Object(m.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:"TOGGLE_SHOW_DELETED_USERS"});case 2:t(qe());case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},deleteUser:function(t){return e(function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.delete("/v1/admin/users/".concat(e));case 3:a(qe()),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),a(d(t.t0.message,!0));case 9:case"end":return t.stop()}},t,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}()}(t))},filterUsers:function(t){return e((a=t,function(){var e=Object(m.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t({type:"FILTER_USERS",filters:a});case 3:t(qe()),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t(d(e.t0.message,!0));case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}()));var a},gotoUserPage:function(t){return e((a=t,function(){var e=Object(m.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:"GOTO_USER_PAGE",page:a});case 2:return e.next=4,t(qe());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));var a},searchUsers:function(t){return e(function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(Te(e));case 2:return t.next=4,a(qe());case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(t))},sort:function(t){return e(function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(Pe(e));case 2:a(qe());case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(t))}}}),Aa=a(69),Da=a(27),wa=a(328),ja=a(33),ka=a(42),xa={agents:[],agent:{id:"",name:""},averageResponseTime:"",graphContactedLeadsAverage:{type:"line",data:{labels:["date 1","date 2","date 3","date 4","date 5"],datasets:[{label:"15 min (0-15)",data:[0,0,0,0,0],backgroundColor:["rgba(0, 0, 0, 0)"],borderColor:["#21ba45"],borderWidth:2},{label:"30 min (15-30)",data:[0,0,0,0,0],backgroundColor:["rgba(0, 0, 0, 0)"],borderColor:["#f2711c"],borderWidth:2},{label:"2 hrs (30-2)",data:[0,0,0,0,0],backgroundColor:["rgba(0, 0, 0, 0)"],borderColor:["#2cb3c8"],borderWidth:2},{label:"12 hrs (2-12)",data:[0,0,0,0,0],backgroundColor:["rgba(0, 0, 0, 0)"],borderColor:["#6435c9"],borderWidth:2},{label:"12 hrs + Missed",data:[0,0,0,0,0],backgroundColor:["rgba(0, 0, 0, 0)"],borderColor:["#db2828"],borderWidth:2}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]},legend:!1}},pieGraphContactedLeadsAverage:{type:"doughnut",data:{labels:["15 min (0-15)","30 min (15-30)","2 hrs (30-2)","12 hrs (2-12)","12 hrs + Missed"],datasets:[{data:[0,0,0,0,0],backgroundColor:["#21ba45","#f2711c","#2cb3c8","#6435c9","#db2828"]}]},options:{responsive:!0,legend:{position:"top",display:!1},title:{display:!1,text:"Chart.js Doughnut Chart"},animation:{animateScale:!0,animateRotate:!0}}},selectBoxDates:[{key:"today",value:"today",text:"Today"},{key:"yesterday",value:"yesterday",text:"Yesterday"},{key:"this-week",value:"this-week",text:"This Week"},{key:"previous-week",value:"previous-week",text:"Previous Week"},{key:"this-month",value:"this-month",text:"This Month"},{key:"previous-month",value:"previous-month",text:"Previous Month"}],selectBoxAgents:[],pagination:{current_page:1,per_page:10,last_page:1},openModalStatus:!1,query:{search:"",showDeleted:!1,filters:{companyId:null},sort:{name:!0,campaigns:null,leads:null,avg_response:null}}},Sa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_AGENT_MODAL":return Object(x.a)({},e,{openModalStatus:t.open});case"ADD_AGENTS":return Object(x.a)({},e,{agents:Object(ka.a)(t.agents),pagination:t.pagination});case"SEARCH_AGENTS":return Object(x.a)({},e,{query:Object(x.a)({},e.query,{search:t.search})});case"GOTO_PAGE":return Object(x.a)({},e,{pagination:Object(x.a)({},e.pagination,{current_page:t.activePage})});case"SORT_AGENTS":return Object(x.a)({},e,{query:Object(x.a)({},e.query,{sort:Object(x.a)({},e.query.sort,Object(ja.a)({},t.field,!1===e.query.sort[t.field]?null:!e.query.sort[t.field]))})});case"SHOW_DELETED_AGENTS":return Object(x.a)({},e,{query:Object(x.a)({},e.query,{showDeleted:!e.query.showDeleted})});case"LOAD_SELECTBOX_AGENTS":return Object(x.a)({},e,{selectBoxAgents:Object(ka.a)(t.agents)});case"FILTER_AGENTS":return Object(x.a)({},e,{query:Object(x.a)({},e.query,{filters:Object(x.a)({},e.query.filters,t.filters)})});case"LOAD_AGENT_DATA":return Object(x.a)({},e,{agent:t.agent});case"LOAD_AGENT_LEADS_GRAPH":return Object(x.a)({},e,{averageResponseTime:t.graphData.avg_response_time,graphContactedLeadsAverage:Object(x.a)({},e.graphContactedLeadsAverage,{data:Object(x.a)({},t.graphData)})});case"LOAD_AGENT_LEADS_GRAPH_PIE":return Object(x.a)({},e,{averageResponseTime:t.graphData.avg_response_time,pieGraphContactedLeadsAverage:Object(x.a)({},e.pieGraphContactedLeadsAverage,{data:Object(x.a)({},t.graphData)})});default:return e}},Ia={session:{token:null,refreshToken:null,isAuthorised:!1}},Na=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ia,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SESSION_TOKEN":return Object(x.a)({},e,{session:Object(x.a)({},t.tokenData,{isAuthorised:!0})});case"REMOVE_SESSION_TOKEN":return Object(x.a)({},e,{session:{token:null,isAuthorised:!1}});default:return e}},Ma={breadcrumbs:[{name:"Dashboard",path:"/dashboard",active:!0}]},_a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ma,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_BREADCRUMB":var a=e.breadcrumbs;return t.reset?(a=[],e.breadcrumbs[0].active=!1,a.push(e.breadcrumbs[0],Object(x.a)({},t.crumb,{active:!0}))):(a.map(function(e){return e.active=!1}),a.push(Object(x.a)({},t.crumb,{active:!0}))),Object(x.a)({},e,{breadcrumbs:Object(ka.a)(a)});case"RESET_BREADCRUMB":return e.breadcrumbs[0].active=!0,Object(x.a)({},e,{breadcrumbs:[e.breadcrumbs[0]]});default:return e}},La={campaigns:[],companyId:null,dealId:null,agentId:null,query:{showDeleted:!1,sort:{}},pagination:{current_page:1,per_page:10,last_page:1}},Fa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:La,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_DEAL_CAMPAIGNS":return Object(x.a)({},e,{campaigns:Object(ka.a)(t.campaigns),pagination:t.pagination});case"GOTO_PAGE_CAMPAIGN":return Object(x.a)({},e,{pagination:Object(x.a)({},e.pagination,{current_page:t.page})});case"SORT_CAMPAIGNS":return Object(x.a)({},e,{query:Object(x.a)({},e.query,{sort:Object(x.a)({},e.query.sort,Object(ja.a)({},t.field,!1===e.query.sort[t.field]?null:!e.query.sort[t.field]))})});case"FETCH_CAMPAIGNS":return Object(x.a)({},e,{companyId:t.companyId,dealId:t.dealId});case"FETCH_AGENT_CAMPAIGNS":return Object(x.a)({},e,{agentId:t.agentId});case"FETCH_COMPANY_CAMPAIGNS":return Object(x.a)({},e,{companyId:t.companyId});case"SHOW_DELETED_CAMPAIGNS":return Object(x.a)({},e,{query:Object(x.a)({},e.query,{showDeleted:!e.query.showDeleted})});default:return e}},Ra={company:{},companId:"",companies:[],selectBoxCompanies:[],averageResponseTime:"",graphContactedLeadsAverage:{type:"line",data:{labels:["date x","date y","date y","date y","date y"],datasets:[{label:"15 min (0-15)",data:[0,0,0,0,0,0],backgroundColor:["rgba(0, 0, 0, 0)"],borderColor:["#21ba45"],borderWidth:2},{label:"30 min (15-30)",data:[0,0,0,0,0,0],backgroundColor:["rgba(0, 0, 0, 0)"],borderColor:["#f2711c"],borderWidth:2},{label:"2 hrs (30-2)",data:[0,0,0,0,0,0],backgroundColor:["rgba(0, 0, 0, 0)"],borderColor:["#2cb3c8"],borderWidth:2},{label:"12 hrs (2-12)",data:[0,0,0,0,0,0],backgroundColor:["rgba(0, 0, 0, 0)"],borderColor:["#6435c9"],borderWidth:2},{label:"12 hrs + Missed leads",data:[0,0,0,0,0,0],backgroundColor:["rgba(0, 0, 0, 0)"],borderColor:["#db2828"],borderWidth:2}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}},pagination:{current_page:1,per_page:10,last_page:1},openModal:!1,query:{search:"",showDeleted:!1,sort:{name:!0,deals:null,leads:null,agents:null,avg_response:null}}},Pa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_COMPANIES":return Object(x.a)({},e,{companies:Object(ka.a)(t.companies),pagination:t.pagination,query:Object(x.a)({},e.query)});case"GOTO_COMPANIES_PAGE":return Object(x.a)({},e,{pagination:Object(x.a)({},e.pagination,{current_page:t.page})});case"SORT_COMPANIES":return Object(x.a)({},e,{query:Object(x.a)({},e.query,{sort:Object(x.a)({},e.query.sort,Object(ja.a)({},t.field,!1===e.query.sort[t.field]?null:!e.query.sort[t.field]))})});case"SEARCH_COMPANIES":return Object(x.a)({},e,{query:Object(x.a)({},e.query,{search:t.search})});case"OPEN_COMPANY_MODAL":return Object(x.a)({},e,{openModal:t.open});case"TOGGLE_WITH_DELETED":return Object(x.a)({},e,{query:Object(x.a)({},e.query,{showDeleted:!e.query.showDeleted})});case"ADD_SELECT_BOX_COMPANIES":return Object(x.a)({},e,{selectBoxCompanies:Object(ka.a)(t.companies)});case"LOAD_COMPANY":return Object(x.a)({},e,{company:t.company});case"LOAD_COMPANY_GRAPH_CONTACTED_LEADS_AVERAGE":return Object(x.a)({},e,{averageResponseTime:t.graphData.avg_response_time,graphContactedLeadsAverage:Object(x.a)({},e.graphContactedLeadsAverage,{data:Object(x.a)({},t.graphData)})});case"LOAD_COMPANY_CAMPAIGNS":return Object(x.a)({},e,{companyId:t.companyId});default:return e}},Ta={deals:[],selectBoxDeals:[],filters:{search:"",companyId:"",dealId:"",campaignId:""}};var qa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ta,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ve:return Object(x.a)({},e,{deals:Object(ka.a)(t.deals)});case ze:return e.deals.push(t.deal),Object(x.a)({},e);case Ue:return e.deals.map(function(e){return e.id===t.deal.id?Object(x.a)({},e,t.deal):e}),Object(x.a)({},e);case Qe:return Object(x.a)({},e,{filters:Object(x.a)({},e.filters,{companyId:t.id})});case Xe:return Object(x.a)({},e,{filters:Object(x.a)({},e.filters,{campaignId:t.id})});case Ke:return Object(x.a)({},e,{filters:Object(x.a)({},e.filters,{dealId:t.id})});case Je:return Object(x.a)({},e,{filters:Object(x.a)({},e.filters,{search:t.search})});default:return e}},Ba={form:{show:!1,title:"",id:"",companies:[],new_companies:[],avatar:"",name:"",email:"",password:"",password_confirmation:""},required:{name:!0,email:!0}},Ga=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ba,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_AGENT":return t.form.companies&&(t.form.companies=t.form.companies.map(function(e){return e.id})),Object(x.a)({},e,{form:Object(x.a)({},t.form,{title:t.form.id?"Edit Agent":"Create Agent"})});case"CHANGE_AGENT":return Object(x.a)({},e,{form:Object(x.a)({},e.form,t.form)});case"SAVED_AGENT":return Object(x.a)({},e,{form:Object(x.a)({},e.form,t.form,{show:!1})});default:return e}},Ya={form:{show:!1,id:"",dealId:"",companyId:"",name:"",integration:"",agents:[]},integrationTypes:[{key:"FACEBOOK",value:"FACEBOOK",text:"Facebook"},{key:"ZAPIER",value:"ZAPIER",text:"Zapier"},{key:"OPTIN_FORM",value:"OPTIN_FORM",text:"Optin Form"}],required:{name:!0,integration:!0,agents:!0}},Wa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ya,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_CAMPAIGN":return Object(x.a)({},e,{form:Object(x.a)({},t.form,{title:t.form.id?"Edit Campaign":"Create Campaign"})});case"CHANGE_CAMPAIGN":return Object(x.a)({},e,{form:Object(x.a)({},e.form,t.form)});case"SAVED_CAMPAIGN":return Object(x.a)({},e,{form:Object(x.a)({},e.form,{show:!1})});default:return e}},Ha={form:{title:"",show:!1,id:"",name:"",email:"",phone:"",avatar:"",password:"",password_confirmation:""},required:{name:!0,email:!0,phone:!0,password:!0,password_confirmation:!0}},Va=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ha,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_COMPANY_FORM":return Object(x.a)({},e,{form:Object(x.a)({},t.form,{title:t.form.id?"Edit Company":"Create Company"}),required:Object(x.a)({},e.required,{password:!t.form.id,password_confirmation:!t.form.id})});case"CHANGE_COMPANY":return Object(x.a)({},e,{form:Object(x.a)({},e.form,t.form)});case"SAVED_COMPANY":return Object(x.a)({},e,{form:Object(x.a)({},e.form,t.form,{show:!1})});default:return e}},za={show:!1,title:"",id:"",name:"",companyId:"",agency_company_id:""},Ua=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:za,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_DEAL":return Object(x.a)({},t.form,{title:t.form.id?"Edit Deal":"Create Deal"});case"SAVED_DEAL":return Object(x.a)({},e,t.form,{show:!1});case"CHANGE_DEAL":return Object(x.a)({},e,t.form);default:return e}},Qa={formSaved:!1,form:{title:"",show:!1,id:null,company_id:"",campaign_id:"",agent_id:"",deal_id:"",fullname:"",status:"",email:"",phone:"",metadata:""},required:{fullname:!0,status:!0,email:!0,phone:!0,company_id:j.isAgency,deal_campaign_id:!0,agent_id:!0}},Ka=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_LEAD":return Object(x.a)({},e,{formSaved:!1,form:Object(x.a)({},t.form,{title:t.form.id?"Edit lead":"Create Lead"})});case"CHANGE_LEAD":return Object(x.a)({},e,{form:Object(x.a)({},e.form,t.form)});case"SAVED_LEAD":return Object(x.a)({},e,{formSaved:!0,form:Object(x.a)({},e.form,t.form,{show:!1})});default:return e}},Xa={form:{title:"",show:!1,id:"",name:"",email:"",phone:"",avatar:"",password:"",password_confirmation:"",subscription_type:"",max_agency_companies:""},required:{name:!0,email:!0,password:!0,password_confirmation:!0}},Ja=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_USER_FORM":return console.log(t),Object(x.a)({},e,{form:Object(x.a)({},t.form,{title:t.form.id?"Edit User":"Create User"}),required:Object(x.a)({},e.required,{password:!t.form.id,password_confirmation:!t.form.id})});case"CHANGE_USER":return Object(x.a)({},e,{form:Object(x.a)({},e.form,t.form)});case"SAVED_USER":return Object(x.a)({},e,{form:Object(x.a)({},e.form,t.form,{show:!1})});default:return e}},Za={form:{title:"Integration OptIn Form",show:!1,id:"",dealId:"",campaignId:"",uuid:"",integrationForm:ue}},$a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Za,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_OPTIN_FORM":var a={};return t.form.integration_config&&(a=JSON.parse(t.form.integration_config)),console.log(a),Object(x.a)({},e,{form:Object(x.a)({},e.form,t.form,{integrationForm:Object(x.a)({},a)})});case"CHANGE_OPTION_FORM_FIELD":return Object(x.a)({},e,{form:Object(x.a)({},e.form,{integrationForm:Object(x.a)({},e.form.integrationForm,Object(ja.a)({},t.field,Object(x.a)({},e.form.integrationForm[t.field],t.fieldData)))})});case"SAVE_OPTION_FORM":return Object(x.a)({},e,{form:Object(x.a)({},e.form,t.form,{show:!1})});default:return e}},en=a(16),tn={form:{show:!1,title:"",id:"",name:"",time:"",leadId:"",companyID:""},required:{name:!0,time:!0}},an=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_REMINDER":return t.form.time&&(t.form.time=en.utc(t.form.time).local().format("YYYY-MM-DD hh:mm:ss")),Object(x.a)({},e,{form:Object(x.a)({},t.form,{title:t.form.id?"Edit Reminder":"Create Reminder"})});case"CHANGE_REMINDER":return Object(x.a)({},e,{form:Object(x.a)({},e.form,t.form)});case"SAVED_REMINDER":return Object(x.a)({},e,{form:Object(x.a)({},e.form,t.form,{show:!1})});default:return e}},nn=Object(Aa.c)({optinFormIntegration:$a,agent:Ga,campaign:Wa,company:Va,deal:Ua,lead:Ka,user:Ja,reminder:an}),rn={campaign:{uuid:"",integration_config:{header:{title:""},fullname:{order:1,label:"",placeholder:"",value:"",isRequired:!1,isVisible:!1},phone:{order:3,label:"",placeholder:"",value:"",isRequired:!1,isVisible:!1},email:{order:2,label:"",placeholder:"",value:"",isRequired:!1,isVisible:!1},button:{name:"Subscribe"}}},form:{show:!1,showResend:!1,fullname:"",phone:"",email:""}},on=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_CAMPAIGN_INTEGRATION":var a;return a=JSON.parse(t.campaign.integration_config),Object(x.a)({},e,{campaign:Object(x.a)({},e.campaign,t.campaign,{integration_config:a}),form:Object(x.a)({},e.form,{show:!0})});case"CHANGE_FIELD_INTEGRATION":return Object(x.a)({},e,{form:Object(x.a)({},e.form,t.field)});case"RESET_FORM":return Object(x.a)({},e,{form:Object(x.a)({fullname:"",email:"",phone:""},t.form)});default:return e}},cn=Object(Aa.c)({optinForm:on}),sn={lead:{status:"NEW",campaign:{},company:{},agent:{}},leadNotes:[]},ln=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_TIMELINE_LEAD":return Object(x.a)({},e,{lead:t.lead,leadNotes:t.lead.lead_notes,reminders:t.lead.reminders});default:return e}},un={leads:[],agentLeads:[],newLeadsCount:0,agentLeadStatuses:[],pagination:{current_page:1,per_page:10,last_page:1},openModalStatus:!1,statuses:va,selectBoxDates:[{key:"today",value:"today",text:"Today"},{key:"yesterday",value:"yesterday",text:"Yesterday"},{key:"this-week",value:"this-week",text:"This Week"},{key:"previous-week",value:"previous-week",text:"Previous Week"},{key:"this-month",value:"this-month",text:"This Month"},{key:"previous-month",value:"previous-month",text:"Previous Month"}],query:{search:"",showDeleted:!1,filters:{statusType:"",companyId:""},sort:{status:!0,agents:null,company:null,campaign:null,email:null}}},pn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_LEADS":return Object(x.a)({},e,{leads:Object(ka.a)(t.leads),pagination:t.pagination});case"GOTO_PAGE_LEADS":return Object(x.a)({},e,{pagination:Object(x.a)({},e.pagination,{current_page:t.activePage})});case"SEARCH_LEADS":return Object(x.a)({},e,{query:Object(x.a)({},e.query,{search:t.search})});case"SHOW_DELETE_LEADS":return Object(x.a)({},e,{query:Object(x.a)({},e.query,{showDeleted:!e.query.showDeleted})});case"SORT_LEADS":return Object(x.a)({},e,{query:Object(x.a)({},e.query,{sort:Object(x.a)({},e.query.sort,Object(ja.a)({},t.field,!1===e.query.sort[t.field]?null:!e.query.sort[t.field]))})});case"FILTER_LEADS":return Object(x.a)({},e,{query:Object(x.a)({},e.query,{filters:Object(x.a)({},e.query.filters,t.filters)})});case"OPEN_LEAD_MODAL":return Object(x.a)({},e,{openModalStatus:t.status});case"AGENT_LOAD_LEADS":return Object(x.a)({},e,{agentLeads:Object(ka.a)(t.leads),pagination:t.pagination});case"AGENT_LOAD_LEADS_BY_STATUSES":return Object(x.a)({},e,{agentLeadStatuses:[t.statuses]});case"AGENT_SEARCH_LEADS":return Object(x.a)({},e,{query:Object(x.a)({},e.query,{search:t.search})});case"AGENT_RESET_LEADS":return Object(x.a)({},e,{agentLeads:[],pagination:{current_page:1,per_page:10,last_page:1}});case"AGENT_NEW_LEADS_COUNT":return Object(x.a)({},e,{newLeadsCount:t.count});default:return e}},mn={ready:!0},dn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mn;switch((arguments.length>1?arguments[1]:void 0).type){case"SHOW_LOADER":return Object(x.a)({},e,{ready:!1});case"HIDE_LOADER":return Object(x.a)({},e,{ready:!0});default:return e}},hn=a(19),fn=a(18),gn=a(20),En=a(791),bn=a(800),vn=a(810),yn=(a(420),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(hn.a)(this,(e=Object(fn.a)(t)).call.apply(e,[this].concat(r)))).onSave=function(){a.validate()&&a.props.saveForm(a.props.form)},a.validate=function(){if(St.a("required",a.props)){var e=kt.a(function(e,t){return!a.props.form[t]&&e?{field:t,required:!0}:{required:!1}},a.props.required)||[],t=v.a(function(e,t){return"".concat(e?e+",\n"+t.field:t.field)},"",xt.a(function(e){return e.required},y.a(e)));if(t)return a.props.sendMessage('Missing required "'.concat(t,'"!'),!0),!1}return!0},a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.Container,a=Object(k.a)(e,["Container"]);return r.a.createElement(bn.a,{className:"freshAppEntityModal",open:this.props.form.show,centered:!1,size:a.size||"tiny",onClose:this.props.loadForm.bind(this,{show:!1})},r.a.createElement(bn.a.Header,null,this.props.form.title),r.a.createElement(bn.a.Content,null,r.a.createElement(t,a)),r.a.createElement(bn.a.Actions,null,r.a.createElement(vn.a,{color:"black",onClick:this.props.loadForm.bind(this,{show:!1})},"Cancel"),r.a.createElement(vn.a,{color:"teal",labelPosition:"left",content:"Save",onClick:this.onSave})))}}]),t}(n.Component)),Cn=a(799),On=a(732),An=a(786),Dn=a(731),wn=(a(562),a(89)),jn=a.n(wn),kn=(a(564),function(e){function t(){return Object(h.a)(this,t),Object(hn.a)(this,Object(fn.a)(t).apply(this,arguments))}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.src,a=Object(k.a)(e,["src"]);return r.a.createElement("div",{style:{backgroundImage:"url('".concat(t,"')")},className:aa.a(a).join(" ").concat(" icon-image")})}}]),t}(n.Component)),xn=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(hn.a)(this,(e=Object(fn.a)(t)).call.apply(e,[this].concat(r)))).onFileLoad=function(e){if(!b.a(!1,["target","files"],e))return a.props.sendMessage("Missing required File!",!0),!1;var t=e.target.files[0],n=new FileReader;n.readAsDataURL(t),n.addEventListener("load",function(){a.props.changeForm({avatar:n.result})},!1)},a.onChange=function(e,t){a.props.changeForm(Object(ja.a)({},t.name,t.value))},a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.form,t=e.id,a=e.name,n=e.phone,o=e.email,c=e.avatar,s=e.avatar_path;return r.a.createElement(Cn.a,{size:"big",className:"companyForm"},r.a.createElement(On.a,{columns:2,relaxed:"very",stackable:!0},r.a.createElement(On.a.Column,null,r.a.createElement(Cn.a.Field,{required:!0},r.a.createElement("label",null,"Company Name"),r.a.createElement(An.a,{placeholder:"Company Name",name:"name",value:a||"",onChange:this.onChange})),r.a.createElement(Cn.a.Field,{required:!0},r.a.createElement("label",null,"Phone Number"),r.a.createElement(An.a,{placeholder:"Phone Number",name:"phone",value:n||"",onChange:this.onChange})),r.a.createElement(Dn.a.Inline,null,r.a.createElement(kn,{size:"tiny",circular:!0,src:c||s||jn.a}),r.a.createElement("label",{htmlFor:"avatar"},r.a.createElement(vn.a,{icon:"upload",label:{basic:!0,content:"Select file"},labelPosition:"right"}),r.a.createElement("input",{hidden:!0,accept:".png, .jpeg, .jpg, image/png, image/jpeg, image/jpg",id:"avatar",type:"file",onChange:this.onFileLoad})))),r.a.createElement(On.a.Column,{verticalAlign:"middle"},r.a.createElement(Cn.a.Field,{required:!0},r.a.createElement("label",null,"Email Address"),r.a.createElement(An.a,{placeholder:"Email Address",name:"email",value:o||"",onChange:this.onChange})),r.a.createElement(Cn.a.Field,{required:!t},r.a.createElement("label",null,"Password"),r.a.createElement(An.a,{placeholder:"Password",name:"password",type:"password",onChange:this.onChange})),r.a.createElement(Cn.a.Field,{required:!t},r.a.createElement("label",null,"Re-enter Password"),r.a.createElement(An.a,{placeholder:"Password",name:"password_confirmation",type:"password",onChange:this.onChange})))))}}]),t}(n.Component),Sn=Object(Da.a)(Fe,ia)(function(e){return r.a.createElement(yn,Object(x.a)({},e,{Container:xn}))}),In=a(814),Nn=a(789),Mn=(a(575),ca(function(e){return r.a.createElement("div",{className:"Loader"},r.a.createElement(In.a,{active:!e.loadReady,inverted:!0},r.a.createElement(Nn.a,{size:"medium"},"Loading")))})),_n=a(236),Ln=a(790),Fn=a(817),Rn=a(785),Pn=a(730),Tn=a(805),qn=a(213),Bn=a(804),Gn=(a(577),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(hn.a)(this,(e=Object(fn.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,companyId:null,ready:!1},a.getSort=function(e){var t=_n.a(["query","sort",e],a.props);return!0===t?"sort amount down":!1===t?"sort amount up":"sort"},a.onSearch=function(e){return a.props.searchCompanies(e.target.value)},a.loadCompanies=function(e,t){a.props.gotoCompaniesPage(t.activePage)},a.openConfirmModal=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a.setState({open:e,companyId:t})},a.onConfirm=function(){a.setState({open:!1}),a.props.deleteCompany(a.state.companyId)},a.onShowArch=function(){a.props.toggleShowDeleted()},a.onLockCompany=function(e){e.is_locked=+!e.is_locked,a.props.updateLockStatusCompany(e)},a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){this.props.addBreadCrumb({name:"Companies",path:"/companies",active:!0},!0),this.props.loadCompanies()}},{key:"render",value:function(){var e=this,t=this.props.companies||[],a=this.props,n=a.pagination,o=a.query;return r.a.createElement("div",{className:"Companies"},r.a.createElement(Sn,null),r.a.createElement(Dn.a,{attached:"top"},r.a.createElement(Ln.a,{open:this.state.open,onCancel:this.openConfirmModal.bind(this,!1),onConfirm:this.onConfirm}),r.a.createElement(On.a,{columns:2},r.a.createElement(On.a.Column,null,r.a.createElement(Fn.a,{floated:"left",as:"h1"},"Companies"),r.a.createElement(Cn.a.Field,null,r.a.createElement(Rn.a,{label:"Show Archived",toggle:!0,onChange:this.onShowArch}))),r.a.createElement(On.a.Column,null,r.a.createElement(Pn.a,{secondary:!0},r.a.createElement(Pn.a.Menu,{position:"right"},r.a.createElement(Pn.a.Item,null,r.a.createElement(An.a,{icon:"search",onChange:this.onSearch,value:o.search,placeholder:"Search..."})),r.a.createElement(vn.a,{color:"teal",onClick:this.props.loadForm.bind(this,{show:!0}),content:"New Company"}))))),r.a.createElement(Dn.a,{basic:!0},r.a.createElement(Mn,null),r.a.createElement(Tn.a,{singleLine:!0},r.a.createElement(Tn.a.Header,null,r.a.createElement(Tn.a.Row,null,r.a.createElement(Tn.a.HeaderCell,null,"Name",r.a.createElement(qn.a,{name:this.getSort("name"),onClick:this.props.sort.bind(this,"name")})),r.a.createElement(Tn.a.HeaderCell,null,"Deals",r.a.createElement(qn.a,{name:this.getSort("deals"),onClick:this.props.sort.bind(this,"deals")})),r.a.createElement(Tn.a.HeaderCell,null,"Leads ",r.a.createElement(qn.a,{name:this.getSort("leads"),onClick:this.props.sort.bind(this,"leads")})),r.a.createElement(Tn.a.HeaderCell,null,"Agents",r.a.createElement(qn.a,{name:this.getSort("agents"),onClick:this.props.sort.bind(this,"agents")})),r.a.createElement(Tn.a.HeaderCell,null,"Avg Response time",r.a.createElement(qn.a,{name:this.getSort("avg_response"),onClick:this.props.sort.bind(this,"avg_response")})),r.a.createElement(Tn.a.HeaderCell,null,r.a.createElement("span",{className:"linearicons-cog"})))),r.a.createElement(Tn.a.Body,null,t.map(function(t,a){return r.a.createElement(Tn.a.Row,{key:a},r.a.createElement(Tn.a.Cell,null,r.a.createElement(kn,{src:t.avatar_path,avatar:!0,rounded:!0,size:"medium"}),r.a.createElement("div",null,r.a.createElement(En.a,{to:"/companies/".concat(t.id,"/profile")},t.name)),r.a.createElement("span",{className:"date-added"},"added")," ",en.utc(t.created_at).local().format("DD/MM/YYYY")),r.a.createElement(Tn.a.Cell,null,r.a.createElement(En.a,{to:"/companies/".concat(t.id,"/deals")},t.deals_count)),r.a.createElement(Tn.a.Cell,null,r.a.createElement(En.a,{to:"/companies/".concat(t.id,"/leads")},t.leads_count)),r.a.createElement(Tn.a.Cell,null,r.a.createElement(En.a,{to:"/companies/".concat(t.id,"/agents")},t.agents_count)),r.a.createElement(Tn.a.Cell,null,t.avg_lead_response||0),r.a.createElement(Tn.a.Cell,null,t.is_deleted?null:r.a.createElement("div",null,r.a.createElement(vn.a,{id:"company-lock",onClick:e.onLockCompany.bind(e,t)},r.a.createElement(qn.a,{className:t.is_locked?"linearicons-lock":"linearicons-shield-check"})),r.a.createElement(vn.a.Group,null,r.a.createElement(vn.a,{onClick:e.props.loadForm.bind(e,Object(x.a)({},t,{show:!0}))},"Edit"),r.a.createElement(vn.a,{onClick:e.openConfirmModal.bind(e,!0,t.id)},"Archieve")))))}))))),r.a.createElement(Dn.a,{textAlign:"right",attached:"bottom"},r.a.createElement(Bn.a,{onPageChange:this.loadCompanies,defaultActivePage:n.current_page,prevItem:null,nextItem:null,totalPages:n.last_page})))}}]),t}(n.Component)),Yn=Object(Da.a)(Ie,Fe,ee)(Gn),Wn=a(787),Hn=(a(588),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(hn.a)(this,(e=Object(fn.a)(t)).call.apply(e,[this].concat(r)))).state={},a.onChangeName=function(e,t){a.props.changeForm({name:t.value}),j.isCompany&&1===a.props.selectBoxAgencies.length&&a.onChangeAgency(e,{value:a.props.selectBoxAgencies[0].value})},a.onChangeCompany=function(e,t){a.props.changeForm({companyId:t.value}),a.props.loadSelectBoxCompanies("")},a.onChangeAgency=function(e,t){a.props.changeForm({agency_company_id:t.value})},a.onSearchChange=function(e){a.props.loadSelectBoxCompanies(e.target.value)},a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.form.name;return r.a.createElement(Cn.a,{size:"big",className:"dealForm"},r.a.createElement(Cn.a.Field,{required:!0},r.a.createElement("label",null,"Name"),r.a.createElement(An.a,{placeholder:"Deal name",value:e,onChange:this.onChangeName})),j.isAgency?r.a.createElement(Cn.a.Field,{loading:!this.props.selectBoxCompanies.length,control:Wn.a,options:this.props.selectBoxCompanies||[],label:{children:"Company",htmlFor:"deal-form-companies-list"},placeholder:"Select company",search:!0,defaultValue:this.props.form.companyId||null,onChange:this.onChangeCompany,onSearchChange:this.onSearchChange,searchInput:{id:"deal-form-companies-list"}}):null,j.isCompany&&this.props.selectBoxAgencies.length>1?r.a.createElement(Cn.a.Field,{loading:!this.props.selectBoxAgencies,control:Wn.a,options:this.props.selectBoxAgencies||[],label:{children:"Agency",htmlFor:"deal-form-agencies-list"},placeholder:"Select Agency",search:!0,defaultValue:this.props.form.agency_company_id||null,onChange:this.onChangeAgency,searchInput:{id:"deal-form-agencies-list"}}):null)}}]),t}(n.Component)),Vn=Object(Da.a)(it,fa,ia,Ie)(function(e){return r.a.createElement(yn,Object(x.a)({},e,{Container:Hn}))}),zn=a(807),Un=a(806),Qn=(a(590),function(e){var t=e.deal,a=e.link,n=e.company;return r.a.createElement(En.a,{to:{pathname:a,state:{deal:t}}},r.a.createElement(Un.a.Header,null,t.name),r.a.createElement(Un.a.Meta,null,"Started ",en(t.created_at).format("DD/MM/YYYY")),r.a.createElement(Un.a.Description,null,r.a.createElement(kn,{src:n.avatar_path,avatar:!0,rounded:!0,size:"medium"}),n.name))}),Kn=[{key:null,text:"All companies",value:null}],Xn=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(hn.a)(this,(e=Object(fn.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,companyId:"",dealId:"",showArchived:!1,visible:!0},a.openConfirmModal=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";a.setState({open:e,companyId:t,dealId:n})},a.onConfirm=function(){a.setState({open:!1}),a.props.deleteDeal(a.state.companyId,a.state.dealId)},a.searchDealsByCompany=function(e,t){a.props.searchDealCompaniesBy(t.value)},a.filterDealsByCompany=function(e,t){a.props.filterDealsByCompany(t.value)},a.onSearchChange=function(e){a.props.loadSelectBoxCompanies(e.target.value)},a.onShowArch=function(){a.state.showArchived=!a.state.showArchived,a.setState(a.state)},a.handleDismiss=function(){a.setState(Object(x.a)({},a.state,{visible:!1})),setTimeout(function(){a.setState(Object(x.a)({},a.state,{visible:!0}))},864e5)},a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){var e=+b.a("",["companyId"],this.props);this.props.getCompanyDeals(),this.props.filterDealsByDealId(null),this.props.filterDealCampaignsById(null),j.isAgency&&(this.props.loadSelectBoxCompanies(),this.props.filterDealsByCompany(e),this.setState(Object(x.a)({},this.state,{companyId:e})))}},{key:"render",value:function(){var e=this,t=this.props,a=t.deals,n=t.deleted_deals,o=t.filters,c=this.state,s=c.companyId,l=c.visible;return r.a.createElement("div",{className:"Dashboard"},l?r.a.createElement(zn.a,{className:"dash",onDismiss:this.handleDismiss},r.a.createElement(zn.a.Header,null,"New to ConvertLead ?"),r.a.createElement(zn.a.Content,null,r.a.createElement("p",null,"Click the button below to watch our video tutorials & quick startup guide ."),r.a.createElement("a",{className:"item",href:"http://convertlead.com/",target:"_blank"},"Take me there"))):null,r.a.createElement(Vn,null),r.a.createElement(Ln.a,{open:this.state.open,onCancel:this.openConfirmModal.bind(this,!1),onConfirm:this.onConfirm}),r.a.createElement(Dn.a,{attached:"top"},r.a.createElement(On.a,{columns:2},r.a.createElement(On.a.Column,null,r.a.createElement(Fn.a,{floated:"left",as:"h1"},"Deals"),r.a.createElement(Cn.a.Field,null,r.a.createElement(Rn.a,{label:"Show Archived",toggle:!0,onChange:this.onShowArch})),j.isAgency?r.a.createElement(Cn.a.Field,{loading:!this.props.selectBoxCompanies.length,control:Wn.a,options:[].concat(Kn,Object(ka.a)(this.props.selectBoxCompanies)),label:{children:"Filter",htmlFor:"form-companies-list"},placeholder:"All companies",search:!0,onChange:this.filterDealsByCompany,defaultValue:s||null,onSearchChange:this.onSearchChange,searchInput:{id:"form-companies-list"}}):null),r.a.createElement(On.a.Column,null,r.a.createElement(Pn.a,{secondary:!0},r.a.createElement(Pn.a.Menu,{position:"right"},r.a.createElement(Pn.a.Item,null,r.a.createElement(An.a,{icon:"search",onChange:this.searchDealsByCompany,value:o.search,placeholder:"Search..."})),r.a.createElement(vn.a,{color:"teal",content:"New Deal",onClick:this.props.loadForm.bind(this,{show:!0})}))))),r.a.createElement(Dn.a,{basic:!0},r.a.createElement(Mn,null),r.a.createElement("div",{className:"deals-active-container"},r.a.createElement("label",{className:"deals-active"},"Active ",r.a.createElement("span",null,a.length))),0===a.length?r.a.createElement("div",{className:"empty-deal-wrapper"},"Welcome! Looks like you haven\u2019t created a deal yet. Once you create one, you\u2019ll see it here."):r.a.createElement(Un.a.Group,null,a.map(function(t,a){return r.a.createElement(Un.a,{key:a},r.a.createElement(Un.a.Content,null,j.isAgency?r.a.createElement(Qn,{deal:t,company:t.company,link:"/companies/".concat(t.company.id,"/deals/").concat(t.id,"/campaigns")}):r.a.createElement(Qn,{deal:t,company:t.agency,link:"/deals/".concat(t.id,"/campaigns")}),r.a.createElement(vn.a.Group,{basic:!0,size:"small"},r.a.createElement(vn.a,{onClick:e.props.loadForm.bind(e,Object(x.a)({},t,{companyId:t.company.id,show:!0}))},"Edit"),r.a.createElement(vn.a,{icon:"trash alternate outline",onClick:e.openConfirmModal.bind(e,!0,t.company.id,t.id)}))))}))),r.a.createElement(Dn.a,{basic:!0,style:{display:this.state.showArchived?"block":"none"}},r.a.createElement("div",{className:"deals-active-container archieved"},r.a.createElement("label",{className:"deals-active"},"Archieved ",r.a.createElement("span",null,n.length))),0===n.length?r.a.createElement("div",{className:"deals-active-container"},r.a.createElement("p",null,"When you achieve a deal, you\u2019ll see them here. ",r.a.createElement("a",{href:""},"Learn more"))):r.a.createElement(Un.a.Group,null,n.map(function(e,t){return r.a.createElement(Un.a,{key:t},r.a.createElement(Un.a.Content,null,j.isAgency?r.a.createElement(Qn,{deal:e,company:e.company,link:"/companies/".concat(e.company.id,"/deals/").concat(e.id,"/campaigns")}):r.a.createElement(Qn,{deal:e,company:e.agency,link:"/deals/".concat(e.id,"/campaigns")})))})))))}}]),t}(n.Component),Jn=Object(Da.a)(Ie,Dt,it)(Xn),Zn=(a(592),a(594),a(119)),$n=a.n(Zn),er=a(822),tr=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(hn.a)(this,Object(fn.a)(t).call(this,e))).state={dates:{today:{startDate:en().startOf("day").format("Y-MM-DD"),endDate:en().endOf("day").format("Y-MM-DD")},yesterday:{startDate:en().subtract(1,"days").startOf("day").format("Y-MM-DD"),endDate:en().subtract(1,"days").endOf("day").format("Y-MM-DD")},"this-week":{startDate:en().startOf("week").format("Y-MM-DD"),endDate:en().endOf("week").format("Y-MM-DD")},"previous-week":{startDate:en().subtract(1,"week").startOf("week").format("Y-MM-DD"),endDate:en().subtract(1,"week").endOf("week").format("Y-MM-DD")},"this-month":{startDate:en().startOf("month").format("Y-MM-DD"),endDate:en().endOf("month").format("Y-MM-DD")},"previous-month":{startDate:en().subtract(1,"month").startOf("month").format("Y-MM-DD"),endDate:en().subtract(1,"month").endOf("month").format("Y-MM-DD")}}},a.onChangeDate=function(e,t){a.props.getAgentGraphPie(a.Chart,a.agentId,{companyIds:t.value,graphType:"contacted",startDate:a.state.dates[t.value].startDate,endDate:a.state.dates[t.value].endDate})},a.agentId=a.props.profile.id,a.canvas=r.a.createRef(),a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.props.pieGraphContactedLeadsAverage.options.legendCallback=function(e){var t=document.createElement("ul"),a=0;return e.data.labels.forEach(function(n){t.innerHTML+='<li style="display: inline; margin-right: 10px"><div style="background-color: '.concat(e.data.datasets[0].backgroundColor[a],'; width: 40px; height: 10px; display: inline-block; margin-right: 5px"></div>').concat(n,"</li>"),a++}),t.outerHTML},this.Chart=new $n.a(this.canvas.current.getContext("2d"),this.props.pieGraphContactedLeadsAverage),this.props.getAgentGraphPie(this.Chart,this.agentId,{companyIds:[],graphType:"contacted",startDate:this.state.dates.today.startDate,endDate:this.state.dates.today.endDate}),this.Chart.data=this.props.pieGraphContactedLeadsAverage.data,this.Chart.update(),this.refs.legend.innerHTML=this.Chart.generateLegend()}},{key:"render",value:function(){var e=this.props.pieGraphContactedLeadsAverage.data.datasets[0].data;return r.a.createElement("div",{className:"LeadsStats"},r.a.createElement(Dn.a,{attached:"top"},r.a.createElement(On.a,{columns:2},r.a.createElement(On.a.Column,null,r.a.createElement("h1",{className:"ui left floated header mobile-app-menu"},"Dashboard")),r.a.createElement(On.a.Column,null,r.a.createElement(Cn.a,null,r.a.createElement(Cn.a.Group,{widths:"equal"},r.a.createElement(Cn.a.Field,{required:!0,loading:!this.props.selectBoxDates.length,control:Wn.a,options:this.props.selectBoxDates||[],placeholder:"Select Date",defaultValue:"today",onChange:this.onChangeDate,searchInput:{id:"graph-date"}}))))),r.a.createElement(Dn.a,{className:"average-response-time",basic:!0},r.a.createElement("div",{ref:"legend"}),r.a.createElement("div",{className:"chart-wrapper"},r.a.createElement("canvas",{ref:this.canvas}),0===er.a(e)?r.a.createElement("div",{className:"empty-wrapper"}):null),r.a.createElement("div",{className:"agent-welcome"},r.a.createElement("h3",null,"Hi, ",this.props.profile.name),r.a.createElement("p",null,"Welcome to your dashboard! ",r.a.createElement("br",null)," When you start calling your leads, your stats will show up in the chart above for easy access. Follow the link below to check your fresh leads."),r.a.createElement(En.a,{to:"/companies/leads/all"},r.a.createElement(vn.a,{primary:!0},"View fresh leads"))))))}}]),t}(n.Component),ar=Object(Da.a)(fa,ee,V)(tr),nr=(a(637),[{key:"NONE",value:null,text:"NONE"},{key:"BASE",value:"BASE",text:"BASE"},{key:"PREMIUM",value:"PREMIUM",text:"PREMIUM"}]),rr=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(hn.a)(this,(e=Object(fn.a)(t)).call.apply(e,[this].concat(r)))).onFileLoad=function(e){if(!b.a(!1,["target","files"],e))return a.props.sendMessage("Missing required File!",!0),!1;var t=e.target.files[0],n=new FileReader;n.readAsDataURL(t),n.addEventListener("load",function(){a.props.changeForm({avatar:n.result})},!1)},a.onChange=function(e,t){a.props.changeForm(Object(ja.a)({},t.name,t.value))},a.onChangeSubscription=function(e,t){a.props.changeForm({subscription_type:t.value}),"BASE"===t.value&&(a.props.form.max_agency_companies>5||!a.props.form.max_agency_companies)?a.props.changeForm({max_agency_companies:5}):"PREMIUM"===t.value&&a.props.form.max_agency_companies<10?a.props.changeForm({max_agency_companies:10}):a.props.changeForm({max_agency_companies:0})},a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.form,t=e.id,a=e.name,n=e.phone,o=e.email,c=e.avatar,s=e.avatar_path,l=e.subscription_type,i=e.max_agency_companies;return r.a.createElement(Cn.a,{size:"big",className:"companyForm"},r.a.createElement(On.a,{columns:2,relaxed:"very",stackable:!0},r.a.createElement(On.a.Column,null,r.a.createElement(Cn.a.Field,{required:!0},r.a.createElement("label",null,"User Name"),r.a.createElement(An.a,{placeholder:"User Name",name:"name",value:a||"",onChange:this.onChange})),r.a.createElement(Cn.a.Field,null,r.a.createElement("label",null,"Phone Number"),r.a.createElement(An.a,{placeholder:"Phone Number",name:"phone",value:n||"",onChange:this.onChange})),r.a.createElement(Dn.a.Inline,null,r.a.createElement(kn,{size:"tiny",circular:!0,src:c||s||jn.a}),r.a.createElement("label",{htmlFor:"avatar"},r.a.createElement(vn.a,{icon:"upload",label:{basic:!0,content:"Select file"},labelPosition:"right"}),r.a.createElement("input",{hidden:!0,accept:".png, .jpeg, .jpg, image/png, image/jpeg, image/jpg",id:"avatar",type:"file",onChange:this.onFileLoad}))),"AGENCY"===this.props.form.role?r.a.createElement(Cn.a.Field,{required:!0},r.a.createElement("label",null,"Subscription Type"),r.a.createElement(Cn.a.Field,{control:Wn.a,options:nr,label:{children:"Subscription",htmlFor:"sub-form-companies-list"},placeholder:"Select subscription",search:!0,defaultValue:l||null,onChange:this.onChangeSubscription,searchInput:{id:"sub-form-companies-list"}})):null),r.a.createElement(On.a.Column,{verticalAlign:"middle"},r.a.createElement(Cn.a.Field,{required:!0},r.a.createElement("label",null,"Email Address"),r.a.createElement(An.a,{placeholder:"Email Address",name:"email",value:o||"",onChange:this.onChange})),r.a.createElement(Cn.a.Field,{required:!t},r.a.createElement("label",null,"Password"),r.a.createElement(An.a,{placeholder:"Password",name:"password",type:"password",onChange:this.onChange})),r.a.createElement(Cn.a.Field,{required:!t},r.a.createElement("label",null,"Re-enter Password"),r.a.createElement(An.a,{placeholder:"Password",name:"password_confirmation",type:"password",onChange:this.onChange})),"AGENCY"===this.props.form.role?r.a.createElement(Cn.a.Field,null,r.a.createElement("label",null,"Max Agency companies can create"),r.a.createElement(An.a,{placeholder:"Max Agency companies",name:"max_agency_companies",min:0,value:i,type:"number",onChange:this.onChange})):null)))}}]),t}(n.Component),or=Object(Da.a)(He,ia)(function(e){return r.a.createElement(yn,Object(x.a)({},e,{Container:rr}))}),cr=(a(639),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(hn.a)(this,(e=Object(fn.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,userId:null,ready:!1},a.getSort=function(e){var t=_n.a(["query","sort",e],a.props);return!0===t?"sort amount down":!1===t?"sort amount up":"sort"},a.loadUserPage=function(e,t){a.props.gotoUserPage(t.activePage)},a.onSearch=function(e){console.log(e.target.value),a.props.searchUsers(e.target.value)},a.onShowArchived=function(){a.props.toggleShowDeleted()},a.openConfirmModal=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a.setState({open:e,userId:t})},a.onConfirm=function(){a.setState({open:!1}),a.props.deleteUser(a.state.userId)},a.autologin=function(e){a.props.autoLoginBy(e)},a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){this.props.addBreadCrumb({name:"Users",path:"/users",active:!0},!0),this.props.loadUsers()}},{key:"render",value:function(){var e=this,t=this.props.users||[],a=this.props,n=a.pagination,o=a.query;return r.a.createElement("div",{className:"Companies"},r.a.createElement(or,null),r.a.createElement(Dn.a,{attached:"top"},r.a.createElement(Ln.a,{open:this.state.open,onCancel:this.openConfirmModal.bind(this,!1),onConfirm:this.onConfirm}),r.a.createElement(On.a,{columns:2},r.a.createElement(On.a.Column,null,r.a.createElement(Fn.a,{floated:"left",as:"h1"},"Users"),r.a.createElement(Cn.a.Field,null,r.a.createElement(Rn.a,{label:"Show Archived",toggle:!0,onChange:this.onShowArchived}))),r.a.createElement(On.a.Column,null,r.a.createElement(Pn.a,{secondary:!0},r.a.createElement(Pn.a.Menu,{position:"right"},r.a.createElement(Pn.a.Item,null,r.a.createElement(An.a,{icon:"search",onChange:this.onSearch,value:o.search,placeholder:"Search..."})),r.a.createElement(vn.a,{onClick:this.props.loadForm.bind(this,{show:!0}),color:"teal",content:"New User"}))))),r.a.createElement(Dn.a,{basic:!0},r.a.createElement(Mn,null),r.a.createElement(Tn.a,{singleLine:!0},r.a.createElement(Tn.a.Header,null,r.a.createElement(Tn.a.Row,null,r.a.createElement(Tn.a.HeaderCell,null,"Name",r.a.createElement(qn.a,{name:this.getSort("name"),onClick:this.props.sort.bind(this,"name")})),r.a.createElement(Tn.a.HeaderCell,null,"UUID"),r.a.createElement(Tn.a.HeaderCell,null,"Subscription"),r.a.createElement(Tn.a.HeaderCell,null,"E-mail",r.a.createElement(qn.a,{name:this.getSort("email"),onClick:this.props.sort.bind(this,"email")})),r.a.createElement(Tn.a.HeaderCell,null,"Role",r.a.createElement(qn.a,{name:this.getSort("role"),onClick:this.props.sort.bind(this,"role")})),r.a.createElement(Tn.a.HeaderCell,null,"Phone",r.a.createElement(qn.a,{name:this.getSort("phone"),onClick:this.props.sort.bind(this,"phone")})),r.a.createElement(Tn.a.HeaderCell,null,"Actions"))),r.a.createElement(Tn.a.Body,null,t.map(function(t,a){return r.a.createElement(Tn.a.Row,{key:a},r.a.createElement(Tn.a.Cell,null,t.name),r.a.createElement(Tn.a.Cell,null,t.uuid),r.a.createElement(Tn.a.Cell,null,t.subscription_type),r.a.createElement(Tn.a.Cell,null,t.email),r.a.createElement(Tn.a.Cell,null,t.role),r.a.createElement(Tn.a.Cell,null,t.phone),r.a.createElement(Tn.a.Cell,null,t.deleted_at?null:r.a.createElement("div",null,r.a.createElement(vn.a,{onClick:e.props.loadForm.bind(e,Object(x.a)({},t,{show:!0}))},"Edit"),r.a.createElement(vn.a,{onClick:e.openConfirmModal.bind(e,!0,t.id)},"Delete"),r.a.createElement(vn.a,{primary:!0,onClick:e.autologin.bind(e,t.email)},"Login"))))}))))),r.a.createElement(Dn.a,{textAlign:"right",attached:"bottom"},r.a.createElement(Bn.a,{onPageChange:this.loadUserPage,defaultActivePage:n.current_page,prevItem:null,nextItem:null,totalPages:n.last_page})))}}]),t}(n.Component)),sr=Object(Da.a)(Oa,He,$,ee)(cr),lr=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(hn.a)(this,(e=Object(fn.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,companyId:"",dealId:""},a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){this.props.resetBreadCrumbToDefault();var e=+b.a("",["match","params","companyId"],this.props);this.setState(Object(x.a)({},this.state,{companyId:e}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"Dashboard"},j.isAgency||j.isCompany?r.a.createElement(Jn,{companyId:this.state.companyId}):j.isAdmin?r.a.createElement(sr,null):r.a.createElement(ar,null))}}]),t}(n.Component),ir=Object(Da.a)(ee)(lr),ur=a(788),pr=(a(641),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(hn.a)(this,(e=Object(fn.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e,t){a.props.changeForm(Object(ja.a)({},t.name,t.value))},a.onChangeCompany=function(e,t){a.props.changeForm({company_id:t.value}),j.isAgent||(a.props.filterDealsByCompany(t.value),a.props.filterDealsByDealId(""),a.props.loadSelectBoxCompanies("")),j.isAgent&&a.props.loadCompanyCampaigns(t.value)},a.onChangeStatus=function(e,t){a.props.changeForm({status:t.value})},a.onSearchChange=function(e){a.props.searchCompanies(e.target.value)},a.onChangeDeal=function(e,t){a.props.filterDealsByDealId(t.value),a.props.filterDealCampaignsById("")},a.onChangeCampaign=function(e,t){a.props.changeForm({deal_campaign_id:t.value}),j.isAgent||a.props.filterDealCampaignsById(t.value)},a.onChangeAgent=function(e,t){a.props.changeForm({agent_id:t.value})},a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){this.props.form.id&&(this.props.filterDealsByDealId(this.props.form.deal_id),this.props.filterDealsByCompany(this.props.form.company_id),this.props.filterDealCampaignsById(this.props.form.deal_campaign_id)),j.isAgency&&this.props.loadSelectBoxCompanies(),j.isCompany&&this.props.changeForm({company_id:this.props.profile.id}),j.isAgent||this.props.getCompanyDeals(),j.isAgent&&this.props.changeForm({agent_id:this.props.profile.id})}},{key:"render",value:function(){var e=this.props.form,t=e.fullname,a=e.email,n=e.phone,o=e.metadata;return r.a.createElement(Cn.a,{size:"big",className:"leadForm"},r.a.createElement(On.a,{columns:2,relaxed:"very",stackable:!0},r.a.createElement(On.a.Column,null,r.a.createElement(Cn.a.Field,{required:!0},r.a.createElement("label",null,"Full name"),r.a.createElement(An.a,{placeholder:"Full Name",value:t||"",name:"fullname",onChange:this.onChange})),r.a.createElement(Cn.a.Field,{required:!0},r.a.createElement("label",null,"Email Address"),r.a.createElement(An.a,{placeholder:"Email Address",value:a||"",name:"email",onChange:this.onChange})),r.a.createElement(Cn.a.Field,{required:!0},r.a.createElement("label",null,"Phone Number"),r.a.createElement(An.a,{placeholder:"Phone Number",value:n||"",name:"phone",onChange:this.onChange})),r.a.createElement(Cn.a.Field,null,r.a.createElement("label",null,"Description"),r.a.createElement(ur.a,{placeholder:"Description",value:o||"",name:"metadata",onChange:this.onChange}))),r.a.createElement(On.a.Column,null,r.a.createElement(Cn.a.Field,{required:!0,loading:!this.props.selectBoxStatuses.length,control:Wn.a,options:this.props.selectBoxStatuses||[],label:{children:"Statuses",htmlFor:"status-list"},placeholder:"Select status",search:!0,defaultValue:this.props.form.status||null,onChange:this.onChangeStatus,searchInput:{id:"status-list"}}),j.isAgency||j.isAgent?r.a.createElement(Cn.a.Field,{required:!0,control:Wn.a,options:this.props.selectBoxCompanies||[],label:{children:"Company",htmlFor:"companies-list"},placeholder:"Select company",search:!0,defaultValue:this.props.form.company_id||null,onChange:this.onChangeCompany,onSearchChange:this.onSearchChange,searchInput:{id:"companies-list"}}):null,j.isAgent?null:r.a.createElement(Cn.a.Field,{required:!0,loading:!this.props.selectBoxDeals.length,control:Wn.a,options:this.props.selectBoxDeals||[],label:{children:"Deals",htmlFor:"deals-list"},placeholder:"Select deal",search:!0,defaultValue:this.props.form.deal_id||null,onChange:this.onChangeDeal,searchInput:{id:"deals-list"}}),r.a.createElement(Cn.a.Field,{required:!0,control:Wn.a,options:this.props.selectBoxDealCampaigns||[],label:{children:"Campaigns",htmlFor:"campaigns-list"},placeholder:"Select campaign",search:!0,defaultValue:this.props.form.deal_campaign_id||null,onChange:this.onChangeCampaign,searchInput:{id:"campaigns-list"}}),j.isAgent?null:r.a.createElement(Cn.a.Field,{required:!0,loading:!this.props.selectBoxDealCampaignAgents,control:Wn.a,options:this.props.selectBoxDealCampaignAgents||[],label:{children:"Agents",htmlFor:"agents-list"},placeholder:"Select agent",search:!0,defaultValue:this.props.form.agent_id||null,onChange:this.onChangeAgent,searchInput:{id:"agents-list"}}))))}}]),t}(n.Component)),mr=Object(Da.a)(fa,ta,ia,oa,Ie,Dt)(function(e){return r.a.createElement(yn,Object(x.a)({},e,{Container:pr}))}),dr=a(818),hr=(a(643),a(58)),fr=a(291),gr=a.n(fr),Er=(a(651),a(653),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(hn.a)(this,Object(fn.a)(t).call(this,e))).handleDayClick=a.handleDayClick.bind(Object(hr.a)(Object(hr.a)(a))),a.handleDayMouseEnter=a.handleDayMouseEnter.bind(Object(hr.a)(Object(hr.a)(a))),a.handleResetClick=a.handleResetClick.bind(Object(hr.a)(Object(hr.a)(a))),a.state=a.getInitialState(),a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"getInitialState",value:function(){return{from:null,to:null,enteredTo:null}}},{key:"isSelectingFirstDay",value:function(e,t,a){var n=e&&fr.DateUtils.isDayBefore(a,e);return!e||n||e&&t}},{key:"handleDayClick",value:function(e){var t=this.state,a=t.from,n=t.to;a&&n&&e>=a&&e<=n?this.handleResetClick():this.isSelectingFirstDay(a,n,e)?("function"===typeof this.props.onChangeDateFrom&&this.props.onChangeDateFrom(e),this.setState({from:e,to:null,enteredTo:null})):("function"===typeof this.props.onChangeDateTo&&this.props.onChangeDateTo(e),this.setState({to:e,enteredTo:e}))}},{key:"handleDayMouseEnter",value:function(e){var t=this.state,a=t.from,n=t.to;this.isSelectingFirstDay(a,n,e)||this.setState({enteredTo:e})}},{key:"handleResetClick",value:function(){this.setState(this.getInitialState()),"function"===typeof this.props.onRestDate&&this.props.onRestDate()}},{key:"componentWillMount",value:function(){this.setState({from:this.props.from,to:this.props.to,enteredTo:this.props.to})}},{key:"render",value:function(){var e=this.state,t=e.from,a=e.to,n=e.enteredTo,o={start:t,end:n},c={before:this.state.from},s=[t,{from:t,to:n}];return r.a.createElement("div",{className:"freshappDatepicker"},r.a.createElement(gr.a,{className:"Range",numberOfMonths:2,month:t,selectedDays:s,disabledDays:c,modifiers:o,onDayClick:this.handleDayClick,onDayMouseEnter:this.handleDayMouseEnter}),r.a.createElement("div",null,!t&&!a&&"Please select the first day.",t&&!a&&"Please select the last day.",t&&a&&"Selected from ".concat(t.toLocaleDateString()," to\n                ").concat(a.toLocaleDateString())," ",t&&a&&r.a.createElement(vn.a,{onClick:this.handleResetClick},"Reset")))}}]),t}(r.a.Component)),br=[{key:"",text:"All companies",value:""}],vr={key:"",text:"All statuses",value:""},yr=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(hn.a)(this,(e=Object(fn.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,leadId:null,companyId:null,campaignId:null,startDateDisplay:en().startOf("isoWeek").format("MM/DD/Y"),endDateDisplay:en().endOf("isoWeek").format("MM/DD/Y"),startDate:en().startOf("isoWeek").format("Y-MM-DD"),endDate:en().endOf("isoWeek").format("Y-MM-DD")},a.getSort=function(e){var t=_n.a(["query","sort",e],a.props);return!0===t?"sort amount down":!1===t?"sort amount up":"sort"},a.onSearch=function(e,t){a.props.searchLeads(t.value)},a.gotoPage=function(e,t){a.props.gotoPage(t.activePage)},a.openConfirmModal=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;a.setState({open:e,companyId:t,leadId:n})},a.onConfirm=function(){a.setState({open:!1}),a.props.delete(a.state.companyId,a.state.leadId)},a.onShowArch=function(){a.props.toggleShowDeleted()},a.filterByCompany=function(e,t){a.props.filterLeads({companyId:t.value})},a.filterByStatus=function(e,t){a.props.filterLeads({statusType:t.value})},a.onChangeDateFrom=function(e){a.setState(Object(x.a)({},a.state,{startDate:en(e).format("Y-MM-DD"),startDateDisplay:en(e).format("MM/DD/Y")}))},a.onChangeDateTo=function(e){a.setState(Object(x.a)({},a.state,{endDate:en(e).format("Y-MM-DD"),endDateDisplay:en(e).format("MM/DD/Y")})),a.props.filterLeads({startDate:a.state.startDate,endDate:en(e).format("Y-MM-DD")})},a.onRestDate=function(){a.setState(Object(x.a)({},a.state,{startDateDisplay:en().startOf("isoWeek").format("MM/DD/Y"),endDateDisplay:en().endOf("isoWeek").format("MM/DD/Y"),startDate:en().startOf("isoWeek").format("Y-MM-DD"),endDate:en().endOf("isoWeek").format("Y-MM-DD")})),a.props.filterLeads({startDate:en().startOf("isoWeek").format("Y-MM-DD"),endDate:en().endOf("isoWeek").format("Y-MM-DD")})},a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){var e=+b.a("",["match","params","companyId"],this.props),t=+b.a("",["match","params","campaignId"],this.props),a=+b.a("",["match","params","agentId"],this.props);this.setState(Object(x.a)({},this.state,{companyId:e,campaignId:t})),this.props.filterLeads({companyId:e,campaignId:t,agentId:a,startDate:this.state.startDate,endDate:this.state.endDate}),this.props.addBreadCrumb({name:"Leads",path:"/leads"}),j.isAgency&&this.props.loadSelectBoxCompanies(),this.props.filterDealsByDealId(null),this.props.filterDealCampaignsById(null)}},{key:"render",value:function(){var e=this,t=this.props.leads||[],a=this.props,n=a.pagination,o=a.statuses,c=a.query,s=this.state,l=s.companyId,i=s.campaignId,u=s.startDateDisplay,p=s.endDateDisplay,m=s.startDate,d=s.endDate;return r.a.createElement("div",{className:"Leads"},r.a.createElement(mr,{size:"small"}),r.a.createElement(Ln.a,{open:this.state.open,onCancel:this.openConfirmModal.bind(this,!1),onConfirm:this.onConfirm}),r.a.createElement(Dn.a,{attached:"top"},r.a.createElement(On.a,{columns:2},r.a.createElement(On.a.Column,null,r.a.createElement(Fn.a,{floated:"left",as:"h1"},"Leads"),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Filter by: "),r.a.createElement(Cn.a,null,r.a.createElement(Cn.a.Group,{widths:"equal"},!i&&j.isAgency?r.a.createElement(Cn.a.Field,{loading:!this.props.selectBoxCompanies.length,control:Wn.a,options:[].concat(br,Object(ka.a)(this.props.selectBoxCompanies)),placeholder:"All companies",search:!0,onChange:this.filterByCompany,defaultValue:l||null,searchInput:{id:"form-companies-list"}}):null,r.a.createElement(Cn.a.Field,{loading:!ya,control:Wn.a,options:[vr].concat(Object(ka.a)(ya)),placeholder:"All statuses",search:!0,onChange:this.filterByStatus,searchInput:{id:"form-statuses-list"}})),r.a.createElement(dr.a,{position:"bottom left",trigger:r.a.createElement(Cn.a.Field,null,r.a.createElement(vn.a,null,r.a.createElement(qn.a,{name:"calendar alternate outline"}),u," - ",p)),flowing:!0,hoverable:!0},r.a.createElement(Er,{onChangeDateFrom:this.onChangeDateFrom,onChangeDateTo:this.onChangeDateTo,onRestDate:this.onRestDate,from:new Date(m),to:new Date(d)})))),r.a.createElement(Cn.a.Field,null,r.a.createElement(Rn.a,{label:"Show Archived",toggle:!0,onChange:this.onShowArch}))),r.a.createElement(On.a.Column,null,r.a.createElement(Pn.a,{secondary:!0},r.a.createElement(Pn.a.Menu,{position:"right"},r.a.createElement(Pn.a.Item,null,r.a.createElement(An.a,{icon:"search",onChange:this.onSearch,value:c.search,placeholder:"Search..."})),r.a.createElement(vn.a,{color:"teal",onClick:this.props.loadForm.bind(this,{show:!0}),content:"New Lead"}))))),r.a.createElement(Dn.a,{basic:!0},r.a.createElement(Mn,null),r.a.createElement(Tn.a,{singleLine:!0},r.a.createElement(Tn.a.Header,null,r.a.createElement(Tn.a.Row,null,r.a.createElement(Tn.a.HeaderCell,null,"Name",r.a.createElement(qn.a,{name:this.getSort("name"),onClick:this.props.sort.bind(this,"name")})),r.a.createElement(Tn.a.HeaderCell,null,"Assigned to"),r.a.createElement(Tn.a.HeaderCell,null,"E-mail Address",r.a.createElement(qn.a,{name:this.getSort("email"),onClick:this.props.sort.bind(this,"email")})),r.a.createElement(Tn.a.HeaderCell,null,"Phone Number"),j.isAgency?r.a.createElement(Tn.a.HeaderCell,null,"Company",r.a.createElement(qn.a,{name:this.getSort("company"),onClick:this.props.sort.bind(this,"company")})):null,r.a.createElement(Tn.a.HeaderCell,null,"Source",r.a.createElement(qn.a,{name:this.getSort("campaign"),onClick:this.props.sort.bind(this,"campaign")})),r.a.createElement(Tn.a.HeaderCell,null,r.a.createElement("span",{className:"linearicons-cog"})))),r.a.createElement(Tn.a.Body,null,t.map(function(t,a){return r.a.createElement(Tn.a.Row,{key:a},r.a.createElement(Tn.a.Cell,null,r.a.createElement(En.a,{to:"/companies/".concat(t.company_id,"/leads/").concat(t.id,"/notes")},r.a.createElement("div",{className:"lead-status-icon lead-status-".concat(t.status[0].toLowerCase())},t.fullname&&t.fullname[0]||o[t.status].icon),t.fullname),r.a.createElement("div",{className:"date-added"},"Added ",en.utc(t.created_at).local().format("DD/MM/YYYY"))),r.a.createElement(Tn.a.Cell,null,t.agent&&r.a.createElement(En.a,{to:"/agents/".concat(t.agent.id,"/profile")},t.agent.name)),r.a.createElement(Tn.a.Cell,null,t.email),r.a.createElement(Tn.a.Cell,null,t.phone),j.isAgency?r.a.createElement(Tn.a.Cell,null,t.company?r.a.createElement("div",{className:"comp-logo-box"},r.a.createElement(kn,{avatar:!0,src:t.company.avatar_path,rounded:!0,size:"mini"}),r.a.createElement(En.a,{to:"/companies/".concat(t.company.id,"/profile")},t.company.name)):null):null,r.a.createElement(Tn.a.Cell,null,r.a.createElement(En.a,{to:{pathname:j.isAgency?"/companies/".concat(t.company.id,"/deals/").concat(t.deal_id,"/campaigns"):"/deals/".concat(t.deal_id,"/campaigns"),state:{deal:t.campaign.deal}}},t.campaign.name)),r.a.createElement(Tn.a.Cell,null,t.deleted_at?null:r.a.createElement(vn.a.Group,null,r.a.createElement(vn.a,{onClick:e.props.loadForm.bind(e,Object(x.a)({},t,{company_id:t.company.id,show:!0}))},"Edit"),r.a.createElement(vn.a,{onClick:e.openConfirmModal.bind(e,!0,t.company_id,t.id)},"Archieve"))))}))))),r.a.createElement(Dn.a,{textAlign:"right",attached:"bottom"},r.a.createElement(Bn.a,{onPageChange:this.gotoPage,defaultActivePage:n.current_page,prevItem:null,nextItem:null,totalPages:n.last_page})))}}]),t}(n.Component),Cr=Object(Da.a)(ee,Dt,Ie,oa,ta)(yr),Or=(a(656),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(hn.a)(this,(e=Object(fn.a)(t)).call.apply(e,[this].concat(r)))).onFileLoad=function(e){if(!b.a(!1,["target","files"],e))return a.props.sendMessage("Missing required File!",!0),!1;var t=e.target.files[0],n=new FileReader;n.readAsDataURL(t),n.addEventListener("load",function(){a.props.changeForm({avatar:n.result})},!1)},a.onChange=function(e,t){a.props.changeForm(Object(ja.a)({},t.name,t.value))},a.onChangeCompany=function(e,t){a.props.changeForm({new_companies:t.value}),a.props.loadSelectBoxCompanies("")},a.onSearchChange=function(e){a.props.loadSelectBoxCompanies(e.target.value)},a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){j.isAgency&&this.props.loadSelectBoxCompanies()}},{key:"render",value:function(){var e=this.props.form,t=e.id,a=e.name,n=e.phone,o=e.email,c=e.avatar,s=e.avatar_path;return r.a.createElement(Cn.a,{size:"big",className:"agentForm"},r.a.createElement(On.a,{columns:2,relaxed:"very",stackable:!0},r.a.createElement(On.a.Column,null,r.a.createElement(Cn.a.Field,{required:!0},r.a.createElement("label",null,"Name"),r.a.createElement(An.a,{placeholder:"Name",name:"name",value:a||"",onChange:this.onChange})),r.a.createElement(Cn.a.Field,{required:!0},r.a.createElement("label",null,"Phone Number"),r.a.createElement(An.a,{placeholder:"Phone Number",name:"phone",value:n||"",onChange:this.onChange})),j.isAgency?r.a.createElement(Cn.a.Field,{loading:!this.props.selectBoxCompanies.length,control:Wn.a,options:this.props.selectBoxCompanies||[],label:{children:"Company",htmlFor:"companies-list"},placeholder:"Select company",search:!0,multiple:!0,defaultValue:this.props.form.companies||null,onChange:this.onChangeCompany,onSearchChange:this.onSearchChange,searchInput:{id:"companies-list"}}):null),r.a.createElement(On.a.Column,{verticalAlign:"middle"},r.a.createElement(Cn.a.Field,{required:!0},r.a.createElement("label",null,"Email Address"),r.a.createElement(An.a,{placeholder:"Email Address",name:"email",value:o||"",onChange:this.onChange})),r.a.createElement(Cn.a.Field,{required:!t},r.a.createElement("label",null,"Password"),r.a.createElement(An.a,{placeholder:"Password",name:"password",type:"password",onChange:this.onChange})),r.a.createElement(Cn.a.Field,{required:!t},r.a.createElement("label",null,"Re-enter Password"),r.a.createElement(An.a,{placeholder:"Password",name:"password_confirmation",type:"password",onChange:this.onChange})))),r.a.createElement(Dn.a,{basic:!0},r.a.createElement(kn,{size:"tiny",circular:!0,src:c||s||jn.a}),r.a.createElement("label",{htmlFor:"avatar"},r.a.createElement(vn.a,{icon:"upload",label:{basic:!0,content:"Select file"},labelPosition:"right"}),r.a.createElement("input",{hidden:!0,accept:".png, .jpeg, .jpg, image/png, image/jpeg, image/jpg",id:"avatar",type:"file",onChange:this.onFileLoad}))))}}]),t}(n.Component)),Ar=Object(Da.a)(ia,B,Ie)(function(e){return r.a.createElement(yn,Object(x.a)({},e,{Container:Or}))}),Dr=(a(658),[{key:null,text:"All companies",value:null}]),wr=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(hn.a)(this,(e=Object(fn.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,agentId:null,companyId:null},a.getSort=function(e){var t=_n.a(["query","sort",e],a.props);return!0===t?"sort amount down":!1===t?"sort amount up":"sort"},a.onSearch=function(e,t){a.props.search(t.value)},a.gotoPage=function(e,t){a.props.gotoPage(t.activePage)},a.openConfirmModal=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a.setState({open:e,agentId:t})},a.onConfirm=function(){a.setState({open:!1}),a.props.delete(a.state.agentId)},a.onShowArch=function(){a.props.toggleShowDeleted()},a.onChangeCompany=function(e,t){a.props.filterAgents({companyId:t.value})},a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){var e=+b.a("",["match","params","companyId"],this.props);this.props.addBreadCrumb({name:"Agents",path:"/agents"}),this.props.filterAgents({companyId:e}),j.isAgency&&this.props.loadSelectBoxCompanies(),this.setState(Object(x.a)({},this.state,{companyId:e}))}},{key:"render",value:function(){var e=this,t=this.props.agents||[],a=this.props,n=a.pagination,o=a.query,c=this.state.companyId;return r.a.createElement("div",{className:"Agents"},r.a.createElement(Ar,null),r.a.createElement(Ln.a,{open:this.state.open,onCancel:this.openConfirmModal.bind(this,!1),onConfirm:this.onConfirm}),r.a.createElement(Dn.a,{attached:"top"},r.a.createElement(On.a,{columns:2},r.a.createElement(On.a.Column,null,r.a.createElement(Fn.a,{floated:"left",as:"h1"},"Agents"),r.a.createElement(Cn.a.Field,null,r.a.createElement(Rn.a,{label:"Show Archived",toggle:!0,onChange:this.onShowArch})),r.a.createElement(Cn.a,null,j.isAgency?r.a.createElement(Cn.a.Field,{loading:!this.props.selectBoxCompanies.length,control:Wn.a,options:[].concat(Dr,Object(ka.a)(this.props.selectBoxCompanies)),label:{children:"Filter",htmlFor:"form-companies-list"},placeholder:"All companies",search:!0,onChange:this.onChangeCompany,defaultValue:c||null,searchInput:{id:"form-companies-list"}}):null)),r.a.createElement(On.a.Column,null,r.a.createElement(Pn.a,{secondary:!0},r.a.createElement(Pn.a.Menu,{position:"right"},r.a.createElement(Pn.a.Item,null,r.a.createElement(An.a,{icon:"search",onChange:this.onSearch,value:o.search||"",placeholder:"Search..."})),r.a.createElement(vn.a,{color:"teal",onClick:this.props.loadForm.bind(this,{show:!0}),content:"New Agent"}))))),r.a.createElement(Dn.a,{basic:!0},r.a.createElement(Mn,null),r.a.createElement(Tn.a,{singleLine:!0},r.a.createElement(Tn.a.Header,null,r.a.createElement(Tn.a.Row,null,r.a.createElement(Tn.a.HeaderCell,null,"Name",r.a.createElement(qn.a,{name:this.getSort("name"),onClick:this.props.sort.bind(this,"name")})),j.isAgency?r.a.createElement(Tn.a.HeaderCell,null,"Companies"):null,r.a.createElement(Tn.a.HeaderCell,null,"Campaigns ",r.a.createElement(qn.a,{name:this.getSort("campaigns"),onClick:this.props.sort.bind(this,"campaigns")})),r.a.createElement(Tn.a.HeaderCell,null,"Leads",r.a.createElement(qn.a,{name:this.getSort("leads"),onClick:this.props.sort.bind(this,"leads")})),r.a.createElement(Tn.a.HeaderCell,null,"Avg Response time",r.a.createElement(qn.a,{name:this.getSort("avg_response"),onClick:this.props.sort.bind(this,"avg_response")})),r.a.createElement(Tn.a.HeaderCell,null,r.a.createElement("span",{className:"linearicons-cog"})))),r.a.createElement(Tn.a.Body,null,t.map(function(t,a){return r.a.createElement(Tn.a.Row,{key:a},r.a.createElement(Tn.a.Cell,null,r.a.createElement(En.a,{to:"/agents/".concat(t.id,"/profile")},t.name),r.a.createElement("div",null,"Added ",en.utc(t.created_at).local().format("DD/MM/YYYY"))),j.isAgency?r.a.createElement(Tn.a.Cell,null,t.companies.map(function(e,t){return r.a.createElement("div",{key:t,className:"comp-logo-box"},r.a.createElement(kn,{avatar:!0,src:e.avatar_path,rounded:!0,size:"mini"}),r.a.createElement(En.a,{to:"/companies/".concat(e.id,"/profile")},e.name))})):null,r.a.createElement(Tn.a.Cell,null,r.a.createElement(En.a,{to:{pathname:"/agents/".concat(t.id,"/campaigns"),state:{agent:t}}},t.campaigns_count||0)),r.a.createElement(Tn.a.Cell,null,r.a.createElement(En.a,{to:"/agents/".concat(t.id,"/leads")},t.leads_count||0)),r.a.createElement(Tn.a.Cell,null,t.avg_lead_response||0),r.a.createElement(Tn.a.Cell,null,t.deleted_at?null:r.a.createElement(vn.a.Group,null,r.a.createElement(vn.a,{onClick:e.props.loadForm.bind(e,Object(x.a)({},t,{show:!0}))},"Edit"),r.a.createElement(vn.a,{onClick:e.openConfirmModal.bind(e,!0,t.id)},"Archieve"))))}))))),r.a.createElement(Dn.a,{textAlign:"right",attached:"bottom"},r.a.createElement(Bn.a,{onPageChange:this.gotoPage,defaultActivePage:n.current_page,prevItem:null,nextItem:null,totalPages:n.last_page})))}}]),t}(n.Component),jr=Object(Da.a)(ee,Ie,V,B)(wr),kr={sideBarMenu:[{icon:"icon-home1",name:"Home",path:"/dashboard",component:ir,role:["agency","company","agent"]},{icon:"icon-home1",name:"Users",path:"/users",component:sr,role:["admin"]},{icon:"icon-clients",name:"Clients",path:"/companies",component:Yn,role:["agency"]},{icon:"icon-leads",name:"Leads",path:"/leads",component:Cr,role:["agency","company"]},{icon:"icon-leads",name:"Leads",path:"/companies/leads/all",component:Cr,role:["agent"]},{icon:"icon-agents",name:"Agents",path:"/agents",component:jr,role:["agency","company"]},{icon:"chart line",name:"Stats",path:"/stats",component:jr,role:["company"]}],visibleMenus:[]};var xr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case sa:var a=t.role.toLowerCase(),n=e.sideBarMenu.filter(function(e){return-1!==e.role.indexOf(a)});return Object(x.a)({},e,{visibleMenus:n});default:return e}},Sr={role:b.a("",["user","role"],w.getItem("session")),profile:b.a({id:null,name:null,email:null,phone:null,avatar_path:null,role:null,permissions:[],agencies:[]},["user"],w.getItem("session")),profileForm:{id:null,name:"",email:"",phone:"",avatar:""},passwordResetForm:{password:"",password_confirmation:""}};var Ir=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(x.a)({},e,{role:t.profile.role.toLowerCase(),profile:Object(x.a)({},t.profile)});case Q:return Object(x.a)({},e,{profileForm:t.profile});case K:return Object(x.a)({},e,{profileForm:Object(x.a)({},e.profileForm,t.profile)});case X:return Object(x.a)({},e,{passwordResetForm:Object(x.a)({},e.passwordResetForm,t.passwordResetForm)});default:return Object(x.a)({},e,{role:e.role.toLowerCase()})}},Nr={users:[],pagination:{current_page:1,per_page:10,last_page:1},query:{search:"",showDeleted:!1,sort:{}}},Mr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_USERS":return Object(x.a)({},e,{users:Object(ka.a)(t.users),pagination:t.pagination});case"GOTO_USER_PAGE":return Object(x.a)({},e,{pagination:Object(x.a)({},e.pagination,{current_page:t.page})});case"FILTER_USERS":return Object(x.a)({},e,{query:Object(x.a)({},e.query,t,{sort:Object(x.a)({},e.query.sort,Object(ja.a)({},t.field,!1===e.query.sort[t.field]?null:!e.query.sort[t.field]))})});case"SEARCH_USERS":return Object(x.a)({},e,{query:Object(x.a)({},e.query,{search:t.search})});case"TOGGLE_SHOW_DELETED_USERS":return Object(x.a)({},e,{query:Object(x.a)({},e.query,{showDeleted:!e.query.showDeleted})});default:return e}},_r=Object(Aa.c)({agents:Sa,auth:Na,breadcrumb:_a,campaigns:Fa,companies:Pa,deals:qa,forms:nn,integrations:cn,leadNotes:ln,leads:pn,loader:dn,menu:xr,profile:Ir,users:Mr}),Lr=function(e){e.getState;return function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){var n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=b.a(!1,["token"],w.getItem("session")),E.a.defaults.headers.common.Authorization=n?"Bearer ".concat(n):null,e(a);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},Fr=Object(Aa.d)(_r,Object(Da.a)(Object(Aa.a)(Lr,wa.a),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e})),Rr=(a(660),a(819)),Pr=a(796),Tr=a(826),qr=a(824),Br=a(815),Gr=a(733),Yr=a(120),Wr=a.n(Yr),Hr=(a(662),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(hn.a)(this,(e=Object(fn.a)(t)).call.apply(e,[this].concat(r)))).logout=function(){a.props.logout(),a.onItemClick()},a.onItemClick=function(){a.props.onClickMenuItem&&a.props.onClickMenuItem()},a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){this.props.getUserSideBarMenu(j.role)}},{key:"render",value:function(){var e=this,t=this.props,a=t.visibleMenus,n=t.profile;return r.a.createElement(Pn.a,{className:"AppSidebar",fixed:"left",vertical:!0,icon:!0},r.a.createElement(Pn.a.Item,{className:"app-logo",onClick:this.onItemClick},r.a.createElement(Gr.a,{src:Wr.a})),a.map(function(t,a){return r.a.createElement(En.a,{to:t.path,key:a,onClick:e.onItemClick},r.a.createElement(Pn.a.Item,{index:a},r.a.createElement("i",{className:t.icon}),r.a.createElement("div",null,t.name)))}),r.a.createElement("div",{className:"sidebar-bootom"},r.a.createElement("a",{href:"http://support.digitalfollow.com",target:"_blank",onClick:this.onItemClick},r.a.createElement("i",{className:"icon-support"})),r.a.createElement(Pn.a.Item,{onClick:this.logout},r.a.createElement("i",{className:"icon-logoff"})),r.a.createElement(En.a,{to:"/profile",onClick:this.onItemClick},r.a.createElement(kn,{src:n.avatar_path,"sidebar-avatar":!0,rounded:!0,size:"tiny"}))))}}]),t}(n.Component)),Vr=Object(Da.a)(fa,la,$)(Hr),zr=(a(664),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(hn.a)(this,Object(fn.a)(t).call(this,e))).state={companyIds:[],startDateDisplay:en().startOf("isoWeek").format("MM/DD/Y"),endDateDisplay:en().endOf("isoWeek").format("MM/DD/Y"),startDate:en().startOf("isoWeek").format("Y-MM-DD"),endDate:en().endOf("isoWeek").format("Y-MM-DD")},a.onChangeCompany=function(e,t){a.setState(Object(x.a)({},a.state,{companyIds:t.value})),a.props.getAgentGraph(a.Chart,a.agentId,{companyIds:t.value,graphType:"contacted",startDate:a.state.startDate,endDate:a.state.endDate})},a.onChangeDateFrom=function(e){a.setState(Object(x.a)({},a.state,{startDate:en(e).format("Y-MM-DD"),startDateDisplay:en(e).format("MM/DD/Y")}))},a.onChangeDateTo=function(e){a.setState(Object(x.a)({},a.state,{endDate:en(e).format("Y-MM-DD"),endDateDisplay:en(e).format("MM/DD/Y")})),a.props.getAgentGraph(a.Chart,a.agentId,{companyIds:a.state.companyIds,graphType:"contacted",startDate:a.state.startDate,endDate:en(e).format("Y-MM-DD")})},a.onRestDate=function(){a.setState(Object(x.a)({},a.state,{startDateDisplay:en().startOf("isoWeek").format("MM/DD/Y"),endDateDisplay:en().endOf("isoWeek").format("MM/DD/Y"),startDate:en().startOf("isoWeek").format("Y-MM-DD"),endDate:en().endOf("isoWeek").format("Y-MM-DD")})),a.props.getAgentGraph(a.Chart,a.agentId,{companyIds:a.state.companyIds,graphType:"contacted",startDate:en().startOf("isoWeek").format("Y-MM-DD"),endDate:en().endOf("isoWeek").format("Y-MM-DD")})},a.onEditAgent=function(){a.props.loadForm(Object(x.a)({},a.props.agent,{show:!0}))},a.agentId=a.props.match.params.agentId,a.canvas=r.a.createRef(),a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.match.params.agentId;this.props.getAgent(e,!0)}},{key:"componentDidMount",value:function(){var e=this.props.graphContactedLeadsAverage;e.options.legendCallback=function(e){var t=document.createElement("ul");return e.data.datasets.forEach(function(e){t.innerHTML+='<li style="display: inline; margin-right: 10px"><div style="background-color: '.concat(e.backgroundColor,"; border: ").concat(e.borderColor," solid ").concat(e.borderWidth,'px; width: 40px; height: 10px; display: inline-block; margin-right: 5px"></div>').concat(e.label,"</li>")}),t.outerHTML},this.Chart=new $n.a(this.canvas.current.getContext("2d"),e),this.props.getAgentGraph(this.Chart,this.agentId,{companyIds:this.state.companyIds,graphType:"contacted",startDate:this.state.startDate,endDate:this.state.endDate}),this.Chart.data=this.props.graphContactedLeadsAverage.data,this.Chart.update(),this.props.addBreadCrumb({name:"Agents",path:"/agents"}),this.refs.legend.innerHTML=this.Chart.generateLegend()}},{key:"render",value:function(){var e=this.state,t=e.startDateDisplay,a=e.endDateDisplay,n=e.startDate,o=e.endDate;return r.a.createElement("div",{className:"AgentProfile"},r.a.createElement(Ar,null),r.a.createElement(Dn.a,{attached:"top"},r.a.createElement(On.a,null,r.a.createElement(On.a.Column,null,r.a.createElement(Fn.a,{floated:"left",as:"h1"},"Agent profile"))),r.a.createElement(On.a,{columns:2},r.a.createElement(On.a.Column,null,r.a.createElement(Cn.a,null,r.a.createElement(Cn.a.Group,{widths:"equal"},j.isAgency?r.a.createElement(Cn.a.Field,{loading:!this.props.selectBoxAgentCompanies.length,control:Wn.a,options:this.props.selectBoxAgentCompanies,label:{children:"",htmlFor:"agents-list"},placeholder:"Select Company",search:!0,onChange:this.onChangeCompany,searchInput:{id:"agents-list"}}):null,r.a.createElement(dr.a,{position:"bottom left",trigger:r.a.createElement(Cn.a.Field,null,r.a.createElement(vn.a,null,r.a.createElement(qn.a,{name:"calendar alternate outline"}),t," - ",a)),flowing:!0,hoverable:!0},r.a.createElement(Er,{onChangeDateFrom:this.onChangeDateFrom,onChangeDateTo:this.onChangeDateTo,onRestDate:this.onRestDate,from:new Date(n),to:new Date(o)}))))),r.a.createElement(On.a.Column,null,r.a.createElement(Pn.a,{secondary:!0},r.a.createElement(Pn.a.Menu,{position:"right"},r.a.createElement(vn.a,{color:"teal",content:"Edit Agent",onClick:this.onEditAgent,labelPosition:"left"}))))),r.a.createElement(Dn.a,{className:"average-response-time",basic:!0},r.a.createElement("div",{ref:"legend"}),r.a.createElement("canvas",{ref:this.canvas}),r.a.createElement("label",{className:"average-response-time-label"},"Average response time: ",this.props.averageResponseTime))))}}]),t}(n.Component)),Ur=Object(Da.a)(B,ee,V)(zr),Qr=a(812),Kr=(a(666),ee(function(e){function t(){return Object(h.a)(this,t),Object(hn.a)(this,Object(fn.a)(t).apply(this,arguments))}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.breadcrumbs;return r.a.createElement("div",{className:"freshAppBreadcrumb"},r.a.createElement(Qr.a,{size:"small"},e.map(function(e,t){return e.active?r.a.createElement(Qr.a.Section,{key:t,link:!1,active:!0},e.name):r.a.createElement("span",{key:t},r.a.createElement(Qr.a.Section,{link:!1},r.a.createElement(En.a,{to:e.path},e.name)),r.a.createElement(Qr.a.Divider,{content:"/"}))})))}}]),t}(n.Component))),Xr=(a(668),a(670),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(hn.a)(this,(e=Object(fn.a)(t)).call.apply(e,[this].concat(r)))).state={agentId:""},a.onSearchAgent=function(e){var t=a.props.companyId;a.props.loadSelectBoxAgents({companyId:t,search:e.target.value})},a.onChange=function(e,t){a.props.changeForm(Object(ja.a)({},t.name,t.value))},a.onChangeAgents=function(e,t){a.props.changeForm({agents:t.value})},a.onChangeCompany=function(e,t){var n=t.value;a.props.changeForm({companyId:n}),a.props.filterDealsByCompany(n),a.props.loadSelectBoxAgents({companyId:n}),a.props.loadSelectBoxCompanies("")},a.onChangeCompanyDeal=function(e,t){a.props.changeForm({dealId:t.value})},a.onSearchChange=function(e){a.props.loadSelectBoxCompanies(e.target.value)},a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.companyId,a=e.dealId,n=e.agentId;this.setState(Object(x.a)({},this.state,{agentId:+n})),t&&a&&(this.props.changeForm({companyId:t,dealId:a}),this.props.loadSelectBoxAgents({companyId:t||this.props.form.companyId})),t&&n&&(this.props.changeForm({companyId:t,dealId:a}),this.props.loadSelectBoxAgents({companyId:t||this.props.form.companyId}),this.props.getCompanyDeals()),n&&j.isAgency&&(this.props.loadSelectBoxCompanies("",n),this.props.getCompanyDeals(),this.props.form.companyId&&(this.props.filterDealsByCompany(this.props.form.companyId),this.props.loadSelectBoxAgents({companyId:t||this.props.form.companyId})))}},{key:"render",value:function(){var e=this.state.agentId,t=this.props,a=t.integrationTypes,n=t.form;return r.a.createElement(Cn.a,{size:"big",className:"CampaignForm"},r.a.createElement(Cn.a.Field,{required:!0},r.a.createElement("label",null,"Campaign Name"),r.a.createElement(An.a,{placeholder:"Campaign Name",name:"name",value:n.name,onChange:this.onChange})),r.a.createElement(Cn.a.Field,{required:!0},r.a.createElement("label",null,"Integration type"),r.a.createElement(Wn.a,{placeholder:"Select Integration",name:"integration",options:a,defaultValue:n.integration||null,onChange:this.onChange})),this.state.agentId&&j.isAgency?r.a.createElement(Cn.a.Field,{required:!0,loading:!this.props.selectBoxCompanies.length,control:Wn.a,options:this.props.selectBoxCompanies||[],label:{children:"Company",htmlFor:"companies-list"},placeholder:"Select company",search:!0,defaultValue:this.props.form.company_id||null,onChange:this.onChangeCompany,onSearchChange:this.onSearchChange,searchInput:{id:"companies-list"}}):null,this.state.agentId?r.a.createElement(Cn.a.Field,{required:!0,loading:!this.props.selectBoxDeals.length,control:Wn.a,options:this.props.selectBoxDeals||[],label:{children:"Deals",htmlFor:"deals-list"},placeholder:"Select deal",search:!0,defaultValue:this.props.form.deal_id||null,onChange:this.onChangeCompanyDeal,searchInput:{id:"deals-list"}}):null,r.a.createElement(Cn.a.Field,{required:!0,loading:!this.props.selectBoxAgents.length,control:Wn.a,options:this.props.selectBoxAgents||[],label:{children:"Assign to",htmlFor:"agents-list"},placeholder:"Select agents",search:!0,multiple:!0,name:"agents",onChange:this.onChangeAgents,onSearchChange:this.onSearchAgent,defaultValue:(n.agents&&n.agents.length?n.agents:e)||null,searchInput:{id:"agents-list"}}))}}]),t}(n.Component)),Jr=Object(Da.a)(Ee,Dt,Ie,ia,V)(function(e){return r.a.createElement(yn,Object(x.a)({},e,{Container:Xr}))}),Zr=a(277),$r=a.n(Zr),eo=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(hn.a)(this,(e=Object(fn.a)(t)).call.apply(e,[this].concat(r)))).state={value:"",copied:!1},a.onChange=function(e,t,n,r){var o=Object(ja.a)({},r.name,r.hasOwnProperty("checked")?r.checked:r.value);void 0!==t&&(o[t]=t),a.props.changeOptinForm(e,o)},a.onCopy=function(){a.setState({copied:!0,value:'<iframe src="'.concat(a.props.optinFormLink,'"></iframe>')}),setTimeout(function(){a.setState({copied:!1,value:""})},400)},a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.form.integrationForm;return r.a.createElement("div",null,r.a.createElement(Cn.a,{size:"big"},r.a.createElement(Cn.a.Field,null,r.a.createElement("label",null,"Form Link"),r.a.createElement($r.a,{text:this.state.value,onCopied:this.onCopied}),r.a.createElement(An.a,{action:{color:"teal",labelPosition:"right",icon:"copy",content:"".concat(this.state.copied?"Copied":"Copy"),onClick:this.onCopy},defaultValue:'<iframe src="'.concat(this.props.optinFormLink,'"></iframe>')})),r.a.createElement(Cn.a.Field,null,r.a.createElement("label",null,"Form Title"),r.a.createElement(An.a,{placeholder:"Form Title",name:"title",value:e.header.title,onChange:this.onChange.bind(this,"header",0)})),r.a.createElement(Cn.a.Group,{widths:"equal"},r.a.createElement(Cn.a.Field,null,r.a.createElement("label",null,"Name Label"),r.a.createElement(An.a,{placeholder:"Fullname label",value:e.fullname.label,name:"label",onChange:this.onChange.bind(this,"fullname",1)})),r.a.createElement(Cn.a.Field,null,r.a.createElement("label",null,"Palceholder"),r.a.createElement(An.a,{placeholder:"Fullname Placeholder",name:"placeholder",value:e.fullname.placeholder,onChange:this.onChange.bind(this,"fullname",1)}))),r.a.createElement(Cn.a.Group,{widths:"equal"},r.a.createElement(Cn.a.Field,{control:Rn.a,name:"isRequired",checked:e.fullname.isRequired,onChange:this.onChange.bind(this,"fullname",1),label:r.a.createElement("label",null,"Name Is required")}),r.a.createElement(Cn.a.Field,{control:Rn.a,name:"isVisible",checked:e.fullname.isVisible,onChange:this.onChange.bind(this,"fullname",1),label:r.a.createElement("label",null,"Name Is visible")})),r.a.createElement(Cn.a.Group,{widths:"equal"},r.a.createElement(Cn.a.Field,null,r.a.createElement("label",null,"E-mail Label"),r.a.createElement(An.a,{placeholder:"Email Label",name:"label",value:e.email.label,onChange:this.onChange.bind(this,"email",2)})),r.a.createElement(Cn.a.Field,null,r.a.createElement("label",null,"E-mail Placeholder"),r.a.createElement(An.a,{placeholder:"Email Placeholder",name:"placeholder",value:e.email.placeholder,onChange:this.onChange.bind(this,"email",2)}))),r.a.createElement(Cn.a.Group,{widths:"equal"},r.a.createElement(Cn.a.Field,{control:Rn.a,name:"isRequired",checked:e.email.isRequired,onChange:this.onChange.bind(this,"email",2),label:r.a.createElement("label",null,"Email Is required")}),r.a.createElement(Cn.a.Field,{control:Rn.a,name:"isVisible",checked:e.email.isVisible,onChange:this.onChange.bind(this,"email",2),label:r.a.createElement("label",null,"Email Is visible")})),r.a.createElement(Cn.a.Group,{widths:"equal"},r.a.createElement(Cn.a.Field,null,r.a.createElement("label",null,"Phone Label"),r.a.createElement(An.a,{placeholder:"Phone Label",name:"label",value:e.phone.label,onChange:this.onChange.bind(this,"phone",3)})),r.a.createElement(Cn.a.Field,null,r.a.createElement("label",null,"Placeholder"),r.a.createElement(An.a,{placeholder:"Phone Placeholder",name:"placeholder",value:e.phone.placeholder,onChange:this.onChange.bind(this,"phone",3)}))),r.a.createElement(Cn.a.Group,{widths:"equal"},r.a.createElement(Cn.a.Field,{control:Rn.a,name:"isRequired",checked:e.phone.isRequired,onChange:this.onChange.bind(this,"phone",3),label:r.a.createElement("label",null,"Phone Is required")}),r.a.createElement(Cn.a.Field,{control:Rn.a,name:"isVisible",checked:e.phone.isVisible,onChange:this.onChange.bind(this,"phone",3),label:r.a.createElement("label",null,"Phone Is visible")})),r.a.createElement(Cn.a.Field,null,r.a.createElement("label",null,"Button Subscribe"),r.a.createElement(An.a,{placeholder:"Button Subscribe",name:"name",value:e.button.name,onChange:this.onChange.bind(this,"button",0)}))))}}]),t}(n.Component),to=Object(Da.a)(ma)(function(e){return r.a.createElement(yn,Object(x.a)({},e,{Container:eo}))}),ao=(a(672),a(292)),no=a.n(ao),ro=a(351),oo=a(352),co=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(hn.a)(this,(e=Object(fn.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,copied:!1},a.onCopy=function(){a.setState({copied:!0,value:a.props.campaignLink}),setTimeout(function(){a.setState({copied:!1,value:""})},400)},a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return r.a.createElement(bn.a,{className:"ApiIntegration",open:this.props.open,onClose:this.props.onClose},r.a.createElement(bn.a.Header,null,"Zapier API Integration"),r.a.createElement(bn.a.Content,null,r.a.createElement(Cn.a,null,r.a.createElement(Cn.a.Field,null,r.a.createElement("h2",null,"Campaign Link"),r.a.createElement($r.a,{text:this.state.value}),r.a.createElement(An.a,{action:{color:"teal",labelPosition:"right",icon:"copy",content:"".concat(this.state.copied?"Copied":"Copy"),onClick:this.onCopy},defaultValue:this.props.campaignLink})),r.a.createElement(Cn.a.Field,null,r.a.createElement("h2",null,"Request Body"),r.a.createElement(no.a,{name:"Body",collapsed:!0,src:oo})),r.a.createElement(Cn.a.Field,null,r.a.createElement("h2",null,"Request response"),r.a.createElement(no.a,{collapsed:!0,name:"Lead",src:ro})))),r.a.createElement(bn.a.Actions,null,r.a.createElement(vn.a,{color:"black",onClick:this.props.onClose},"Close")))}}]),t}(n.Component),so=(a(323),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(hn.a)(this,(e=Object(fn.a)(t)).call.apply(e,[this].concat(r)))).state={pageForms:[],pageForm:null,defaultForm:null},a.createNewPageForm=function(){a.props.adAccount?a.props.page?window.FB.ui({method:"lead_gen",display:"popup",page_id:a.props.page.id,ad_account_id:a.props.adAccount},function(e){e&&a.setState(Object(x.a)({},a.state,{defaultForm:e.formID,pageForms:[].concat(Object(ka.a)(a.state.pageForms),[{key:e.formID,text:e.name,value:{id:e.formID,name:e.name}}])}))}):a.props.sendMessage("Missing required page!",!0):a.props.sendMessage("Missing required Ad Account!",!0)},a.formSelected=function(e,t){a.setState(Object(x.a)({},a.state,{pageForm:t.value}))},a.onSubscribe=function(){a.state.pageForm?a.props.onSubscribe(a.props.page,a.state.pageForm):a.props.sendMessage("Missing required selected Form!",!0)},a.onUnsubscribe=function(e){e?a.props.onUnSubscribe(e):a.props.sendMessage("Missing required integration!",!0)},a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.page,a=t.id,n=t.access_token;window.FB.api("/".concat(a,"/leadgen_forms"),{access_token:n},function(t){var a=t.data;t.paging;if(a&&a.length){var n=a.map(function(e){return{key:e.id,text:e.name,value:e}});e.setState(Object(x.a)({},e.state,{pageForms:n}))}})}},{key:"render",value:function(){var e=this.props.page;return r.a.createElement(Tn.a.Row,null,r.a.createElement(Tn.a.Cell,null,e.name),r.a.createElement(Tn.a.Cell,null,r.a.createElement(Wn.a,{placeholder:"Select Form",defaultValue:this.state.defaultForm,loading:!this.state.pageForms,options:this.state.pageForms||[],onChange:this.formSelected}),r.a.createElement(vn.a,{onClick:this.createNewPageForm},"Create New Form")),r.a.createElement(Tn.a.Cell,null,r.a.createElement(vn.a,{onClick:this.onSubscribe},"Subscribe")))}}]),t}(n.Component)),lo=Object(Da.a)(ia)(so),io=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(hn.a)(this,(e=Object(fn.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,copied:!1,pageForms:{},page:{},adAccount:null},a.onSelectAdAccount=function(e,t){a.setState(Object(x.a)({},a.state,{adAccount:t.value}))},a.onSubscribe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;window.FB.api("/".concat(e.id,"/subscribed_apps"),"post",{access_token:e.access_token,subscribed_fields:"leadgen"},function(r){r.success?(a.props.sendMessage("Subscribed to '".concat(e.name,"'!")),a.props.subscribe(a.props.campaign.id,{deal_campaign_id:+a.props.campaign.id,page_name:e.name,form_name:t.name,fb_page_id:+e.id,fb_form_id:+t.id,fb_page_access_token:e.access_token,fb_ad_account_id:n})):a.props.sendMessage("Was not possible to subscribe!",!0)})},a.onUnSubscribe=function(e){console.log("unsubscribe",e),a.props.unsubscribe(a.props.campaign.id,e)},a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.fbPages,n=void 0===a?[]:a,o=t.fbAdAccounts,c=void 0===o?[]:o,s=t.fbIntegrations,l=void 0===s?[]:s;return r.a.createElement(bn.a,{className:"ApiIntegration",open:this.props.open,onClose:this.props.onClose},r.a.createElement(bn.a.Header,null,"Facebook API Integration"),r.a.createElement(bn.a.Content,null,n.length?"":"Missing Active pages!",c.length?r.a.createElement("div",{className:"ads_accounts"},r.a.createElement("label",null,"Ads Accounts"),r.a.createElement(Wn.a,{placeholder:"Select Ads account",required:!0,loading:!c,options:c||[],onChange:this.onSelectAdAccount})):null,r.a.createElement(Tn.a,{celled:!0,compact:!0,definition:!0},r.a.createElement(Tn.a.Header,{fullWidth:!0},r.a.createElement(Tn.a.Row,null,r.a.createElement(Tn.a.HeaderCell,null,"Page Name"),r.a.createElement(Tn.a.HeaderCell,null,"Form Name"),r.a.createElement(Tn.a.HeaderCell,null,"Actions"))),r.a.createElement(Tn.a.Body,null,n&&n.map(function(t,a){return r.a.createElement(lo,{key:a,page:t,adAccount:e.state.adAccount,onSubscribe:e.onSubscribe})}),l&&l.map(function(t,a){return r.a.createElement(Tn.a.Row,{key:"int-".concat(a)},r.a.createElement(Tn.a.Cell,null,t.page_name||t.fb_page_id),r.a.createElement(Tn.a.Cell,null,t.form_name||t.fb_form_id),r.a.createElement(Tn.a.Cell,null,r.a.createElement(vn.a,{onClick:e.onUnSubscribe.bind(e,t.id)},"Unsubscribe")))})))),r.a.createElement(bn.a.Actions,null,r.a.createElement(vn.a,{color:"black",onClick:this.props.onClose},"Close")))}}]),t}(n.Component),uo=Object(Da.a)(ia)(io),po=function(e){function t(e){var a;Object(h.a)(this,t),(a=Object(hn.a)(this,Object(fn.a)(t).call(this,e))).state={open:!1,openApiIntegration:!1,openFBIntegration:!1,campaignId:"",campaign:null,campaignLink:"",fbPages:[],fbAdAccounts:[],companyId:"",dealId:"",fbIntegrations:[]},a.getSort=function(e){var t=_n.a(["query","sort",e],a.props);return!0===t?"sort amount down":!1===t?"sort amount up":"sort"},a.openConfirmModal=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";a.setState({open:e,campaignId:t})},a.onConfirm=function(){a.setState({open:!1});var e=a.props.match.params,t=e.companyId,n=e.dealId;a.props.deleteCampaign(t,n,a.state.campaignId)},a.onShowArch=function(){a.props.toggleShowDeleted()},a.gotoPage=function(e,t){a.props.gotoPage(t.activePage)},a.loadIntegrationForm=function(e){"OPTIN_FORM"===e.integration&&a.props.loadOptinForm(Object(x.a)({},e,{companyId:e.company_id,dealId:e.deal_id,show:!0})),"ZAPIER"===e.integration&&a.setState(Object(x.a)({},a.state,{openApiIntegration:!0,campaignLink:"".concat(C.get("REACT_APP_API_SERVER"),"/v1/campaigns/").concat(e.uuid,"/leads")})),"FACEBOOK"===e.integration&&(a.checkLoginState(),a.setState(Object(x.a)({},a.state,{campaign:e,fbIntegrations:e.fbIntegrations})))},a.statusChangeCallback=function(e){"connected"===e.status?a.retrieveAccountFacebookPages():window.FB.login(function(e){"connected"!==e.status?a.props.sendMessage("Was not possible to login!",!0):a.retrieveAccountFacebookPages()},{scope:["manage_pages","ads_management","leads_retrieval"]})},a.checkLoginState=function(e){window.FB.getLoginStatus(function(e){this.statusChangeCallback(e)}.bind(Object(hr.a)(Object(hr.a)(a))))},a.onCloseApiIntegration=function(){a.setState(Object(x.a)({},a.state,{openApiIntegration:!1,openFBIntegration:!1}))};var n=e.match.params,r=n.companyId,o=n.dealId,c=n.agentId;return c?e.loadAgentCampaigns(c):e.loadDealCampaigns(r,o),a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.match.params,t=e.companyId,a=e.agentId,n=e.dealId;this.setState(Object(x.a)({},this.state,{companyId:+t||(j.isCompany?this.props.profile.id:null),agentId:+a,dealId:+n})),window.fbAsyncInit=function(){window.FB.init({appId:C.get("REACT_APP_FB_APP_ID"),cookie:!0,xfbml:!0,version:"v4.0"}),window.FB.AppEvents.logPageView()},function(e,t,a){var n,r=e.getElementsByTagName(t)[0];e.getElementById(a)||((n=e.createElement(t)).id=a,n.src="https://connect.facebook.net/en_US/sdk.js",r.parentNode.insertBefore(n,r))}(document,"script","facebook-jssdk")}},{key:"componentDidMount",value:function(){var e=b.a({name:"Deal",company:{name:"Company"}},["history","location","state","deal"],this.props);if(this.state.companyId&&this.props.addBreadCrumb({name:e.name,path:"/dashboard"}),this.state.companyId&&j.isAgency&&this.props.addBreadCrumb({name:e.company.name,path:"/companies/".concat(this.state.companyId,"/profile")}),this.state.companyId&&this.props.addBreadCrumb({name:"Campaigns",path:"/",active:!0},!1),this.state.agentId){var t=b.a("Agent",["location","state","agent","name"],this.props);this.props.addBreadCrumb({name:"Agents",path:"/agents"}),this.props.addBreadCrumb({name:t,path:"/agents/".concat(this.state.agentId,"/profile")},!1),this.props.addBreadCrumb({name:"Campaigns",path:""},!1)}}},{key:"componentDidUpdate",value:function(e,t,a){if(this.props.campaigns&&this.props.campaigns.length){var n=this.props.campaigns.find(function(e){return e.id==_n.a(["campaign","id"],t)});n&&n.fbIntegrations&&t.fbIntegrations&&n.fbIntegrations.length!==t.fbIntegrations.length&&this.setState(Object(x.a)({},this.state,{fbIntegrations:n.fbIntegrations}))}}},{key:"retrieveAccountFacebookPages",value:function(){var e=this;window.FB.api("/me/accounts",function(t){var a=t.data;t.paging;e.setState(Object(x.a)({},e.state,{openFBIntegration:!0,fbPages:a}))}),window.FB.api("/me/adaccounts?fields=name,account_id",function(t){var a=t.data;t.paging;a&&a.length&&e.setState({fbAdAccounts:a.map(function(e){return{key:e.account_id,text:e.name,value:e.account_id}})})})}},{key:"render",value:function(){var e=this,t=this.props,a=t.campaigns,n=t.pagination;return r.a.createElement("div",{className:"Campaigns"},r.a.createElement(Dn.a,{attached:"top"},r.a.createElement(co,{open:this.state.openApiIntegration,onClose:this.onCloseApiIntegration,campaignLink:this.state.campaignLink}),r.a.createElement(uo,{open:this.state.openFBIntegration,onClose:this.onCloseApiIntegration,fbPages:this.state.fbPages,campaign:this.state.campaign,fbIntegrations:this.state.fbIntegrations,subscribe:this.props.subscribeCampaignToFbIntegration,unsubscribe:this.props.unsubscribeCampaignToFbIntegration,fbAdAccounts:this.state.fbAdAccounts}),r.a.createElement(to,null),r.a.createElement(Jr,{companyId:this.state.companyId,dealId:this.state.dealId,agentId:this.state.agentId}),r.a.createElement(Ln.a,{open:this.state.open,onCancel:this.openConfirmModal.bind(this,!1),onConfirm:this.onConfirm}),r.a.createElement(On.a,{columns:2},r.a.createElement(On.a.Column,null,r.a.createElement(Fn.a,{floated:"left",as:"h1"},"Campaigns"),r.a.createElement(Cn.a.Field,null,r.a.createElement(Rn.a,{label:"Show Archived",toggle:!0,onChange:this.onShowArch}))),r.a.createElement(On.a.Column,null,r.a.createElement(Pn.a,{secondary:!0},r.a.createElement(Pn.a.Menu,{position:"right"},r.a.createElement(vn.a,{color:"teal",content:"New Campaign",onClick:this.props.loadForm.bind(this,{agentId:this.state.agentId,show:!0}),icon:"add",labelPosition:"left"}))))),r.a.createElement(Dn.a,{basic:!0},r.a.createElement(Mn,null),r.a.createElement(Tn.a,{singleLine:!0},r.a.createElement(Tn.a.Header,null,r.a.createElement(Tn.a.Row,null,r.a.createElement(Tn.a.HeaderCell,null,"#"),r.a.createElement(Tn.a.HeaderCell,null,"Name",r.a.createElement(qn.a,{name:this.getSort("name"),onClick:this.props.sort.bind(this,"name")})),r.a.createElement(Tn.a.HeaderCell,null,"Type",r.a.createElement(qn.a,{name:this.getSort("type"),onClick:this.props.sort.bind(this,"type")})),r.a.createElement(Tn.a.HeaderCell,null,"Leads ",r.a.createElement(qn.a,{name:this.getSort("leads"),onClick:this.props.sort.bind(this,"leads")})),r.a.createElement(Tn.a.HeaderCell,null,"Assigned to"),this.state.agentId&&j.isAgency?r.a.createElement(Tn.a.HeaderCell,null,"Company"):null,r.a.createElement(Tn.a.HeaderCell,null," Avg Response time",r.a.createElement(qn.a,{name:this.getSort("avg_time_response"),onClick:this.props.sort.bind(this,"avg_time_response")})),r.a.createElement(Tn.a.HeaderCell,null,"Edit/Access/Archieve"))),r.a.createElement(Tn.a.Body,null,a.map(function(t,a){return r.a.createElement(Tn.a.Row,{key:a},r.a.createElement(Tn.a.Cell,null,"FACEBOOK"===t.integration?r.a.createElement(vn.a,{circular:!0,color:"facebook",icon:"facebook"}):null,"ZAPIER"===t.integration?r.a.createElement(vn.a,{circular:!0,color:"darkorange",icon:"icon-zapier"}):null,"OPTIN_FORM"===t.integration?r.a.createElement(vn.a,{circular:!0,color:"purplegray",icon:"sticky note outline icon"}):null),r.a.createElement(Tn.a.Cell,null,t.name),r.a.createElement(Tn.a.Cell,null,t.integration),r.a.createElement(Tn.a.Cell,null,r.a.createElement(En.a,{to:"/companies/".concat(t.company.id,"/campaigns/").concat(t.id,"/leads")},t.leads_count||0)),r.a.createElement(Tn.a.Cell,null,t.agents&&t.agents.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(En.a,{to:"/agents/".concat(e.id,"/profile")},e.name))})),e.state.agentId&&j.isAgency?r.a.createElement(Tn.a.Cell,null,r.a.createElement(En.a,{to:"/companies/".concat(t.company.id,"/profile")},t.company.name)):null,r.a.createElement(Tn.a.Cell,null,t.avg_time_response||0),r.a.createElement(Tn.a.Cell,null,t.deleted_at?null:r.a.createElement("div",{className:"action-button"},r.a.createElement(vn.a,{className:"integration-but",onClick:e.loadIntegrationForm.bind(e,t)},"Integration"),r.a.createElement(vn.a.Group,null,r.a.createElement(vn.a,{onClick:e.props.loadForm.bind(e,Object(x.a)({},t,{companyId:t.company_id,dealId:t.deal_id,agentId:e.state.agentId,agents:t.agents&&t.agents.map(function(e){return e.id}),show:!0}))},"Edit"),r.a.createElement(vn.a,{onClick:e.openConfirmModal.bind(e,!0,t.id)},"Archieve")))))}))))),r.a.createElement(Dn.a,{textAlign:"right",attached:"bottom"},r.a.createElement(Bn.a,{onPageChange:this.gotoPage,defaultActivePage:n.current_page,prevItem:null,nextItem:null,totalPages:n.last_page})))}}]),t}(n.Component),mo=Object(Da.a)(ma,ia,fa,V,ve,Ee,ee)(po),ho=(a(675),[{key:null,text:"All agents",value:null}]),fo=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(hn.a)(this,Object(fn.a)(t).call(this,e))).state={agentId:"",startDateDisplay:en().startOf("isoWeek").format("MM/DD/Y"),endDateDisplay:en().endOf("isoWeek").format("MM/DD/Y"),startDate:en().startOf("isoWeek").format("Y-MM-DD"),endDate:en().endOf("isoWeek").format("Y-MM-DD")},a.onChangeAgent=function(e,t){a.setState(Object(x.a)({},a.state,{agentId:t.value})),a.props.getCompanyGraph(a.Chart,a.companyId,{agentId:a.state.agentId,graphType:"contacted",startDate:a.state.startDate,endDate:a.state.endDate})},a.onChangeDateFrom=function(e){a.setState(Object(x.a)({},a.state,{startDate:en(e).format("Y-MM-DD"),startDateDisplay:en(e).format("MM/DD/Y")}))},a.onChangeDateTo=function(e){a.setState(Object(x.a)({},a.state,{endDate:en(e).format("Y-MM-DD"),endDateDisplay:en(e).format("MM/DD/Y")})),a.props.getCompanyGraph(a.Chart,a.companyId,{agentId:a.state.agentId,graphType:"contacted",startDate:a.state.startDate,endDate:en(e).format("Y-MM-DD")})},a.onRestDate=function(){a.setState(Object(x.a)({},a.state,{startDateDisplay:en().startOf("isoWeek").format("MM/DD/Y"),endDateDisplay:en().endOf("isoWeek").format("MM/DD/Y"),startDate:en().startOf("isoWeek").format("Y-MM-DD"),endDate:en().endOf("isoWeek").format("Y-MM-DD")})),a.props.getCompanyGraph(a.Chart,a.companyId,{agentId:a.state.agentId,graphType:"contacted",startDate:en().startOf("isoWeek").format("Y-MM-DD"),endDate:en().endOf("isoWeek").format("Y-MM-DD")})},a.onEditCompany=function(){a.props.loadForm(Object(x.a)({},a.props.profile,{show:!0}))},a.companyId=a.props.match.params.companyId,a.canvas=r.a.createRef(),a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.match.params.companyId;this.props.loadSelectBoxAgents({companyId:e}),j.isAgency?(this.props.addBreadCrumb({name:"Companies",path:"/companies"}),this.props.getCompanyBy(e,!0)):this.props.addBreadCrumb({name:"Statistics",path:"",active:!0})}},{key:"componentDidMount",value:function(){this.props.graphContactedLeadsAverage.options.legendCallback=function(e){var t=document.createElement("ul");return e.data.datasets.forEach(function(e){t.innerHTML+='<li style="display: inline; margin-right: 10px"><div style="background-color: '.concat(e.backgroundColor,"; border: ").concat(e.borderColor," solid ").concat(e.borderWidth,'px; width: 40px; height: 10px; display: inline-block; margin-right: 5px"></div>').concat(e.label,"</li>")}),t.outerHTML},this.Chart=new $n.a(this.canvas.current.getContext("2d"),this.props.graphContactedLeadsAverage),this.props.getCompanyGraph(this.Chart,this.companyId,{graphType:"contacted",startDate:this.state.startDate,endDate:this.state.endDate}),this.Chart.data=this.props.graphContactedLeadsAverage.data,this.Chart.update(),this.refs.legend.innerHTML=this.Chart.generateLegend()}},{key:"render",value:function(){var e=this.state,t=e.startDateDisplay,a=e.endDateDisplay,n=this.props.companyAverageResponseTime;return r.a.createElement("div",{className:"CompanyProfile"},j.isAgency?r.a.createElement(Sn,null):null,r.a.createElement(Dn.a,{attached:"top"},r.a.createElement(On.a,{columns:2},r.a.createElement(On.a.Column,null,r.a.createElement(Fn.a,{floated:"left",as:"h1"},j.isAgency?"Company":"Statistic"),r.a.createElement(Cn.a,null,r.a.createElement(Cn.a.Group,{widths:"equal"},r.a.createElement(Cn.a.Field,{loading:!this.props.selectBoxAgents.length,control:Wn.a,options:[].concat(ho,Object(ka.a)(this.props.selectBoxAgents)),label:{children:"",htmlFor:"agents-list"},placeholder:"Company agents",search:!0,onChange:this.onChangeAgent,searchInput:{id:"agents-list"}}),r.a.createElement(dr.a,{position:"bottom left",trigger:r.a.createElement(Cn.a.Field,null,r.a.createElement(vn.a,null,r.a.createElement(qn.a,{name:"calendar alternate outline"}),t," - ",a)),flowing:!0,hoverable:!0},r.a.createElement(Er,{onChangeDateFrom:this.onChangeDateFrom,onChangeDateTo:this.onChangeDateTo,onRestDate:this.onRestDate,from:new Date(this.state.startDate),to:new Date(this.state.endDate)}))))),r.a.createElement(On.a.Column,null,r.a.createElement(Pn.a,{secondary:!0},r.a.createElement(Pn.a.Menu,{position:"right"},j.isAgency?r.a.createElement(vn.a,{color:"teal",content:"Edit Company",onClick:this.onEditCompany,labelPosition:"left"}):null)))),r.a.createElement(Dn.a,{className:"average-response-time",basic:!0},r.a.createElement("div",{ref:"legend"}),r.a.createElement("canvas",{ref:this.canvas}),r.a.createElement("label",{className:"average-response-time-label"},"Average response time: ",n))))}}]),t}(n.Component),go=Object(Da.a)(V,Ie,fa,Fe,ee)(fo),Eo=(a(677),function(e){var t=e.note;return r.a.createElement("li",{className:"timeline-record"},r.a.createElement("div",{className:"timeline-status timeline-bg-color-".concat(t.status.type[0].toLowerCase())}),r.a.createElement("div",{className:"timeline-vertical-line"}),r.a.createElement("div",{className:"timeline-record-text"},r.a.createElement("label",{className:"creation-date"},en.utc(t.created_at).local().format("DD/MM/YYYY")),r.a.createElement("label",{className:"creation-time"},en.utc(t.created_at).local().format("LT")),r.a.createElement("div",{className:"timeline-text"},t.agent.name,", ",t.message)))}),bo=a(803),vo=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(hn.a)(this,(e=Object(fn.a)(t)).call.apply(e,[this].concat(r)))).state={form:{message:"",status:""},showAddNote:!1},a.showAddNote=function(){a.setState({showAddNote:!0})},a.onCancelAddNote=function(){a.setState({showAddNote:!1})},a.onAddNote=function(){a.props.onAddNote(a.state.form)},a.onChange=function(e,t){a.setState(Object(x.a)({},a.state,{form:Object(x.a)({},a.state.form,Object(ja.a)({},t.name,t.value))}))},a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.lead,a=e.notes,n=e.leadStatuses;return r.a.createElement("div",{className:"freshAppTimeLine"},r.a.createElement("ul",null,r.a.createElement("li",{className:"timeline-record"},r.a.createElement("div",{className:"timeline-status timeline-bg-color-".concat(t.status.charAt(0).toLowerCase())},r.a.createElement("span",null,t.fullname&&t.fullname.charAt(0)||t.status.charAt(0))),r.a.createElement("div",{className:"timeline-vertical-line"}),r.a.createElement("div",{className:"timeline-record-text"},r.a.createElement("label",null,t.fullname),r.a.createElement("div",{className:"timeline-current-status"},"Current Status: ",r.a.createElement("span",{className:"status timeline-color-".concat(t.status.charAt(0).toLowerCase())},va[t.status].name||t.status)))),a&&a.map(function(e,t){return r.a.createElement(Eo,{key:t,note:e})})),this.state.showAddNote?r.a.createElement(Cn.a,null,r.a.createElement(Cn.a.Field,null,r.a.createElement(ur.a,{name:"message",onChange:this.onChange})),r.a.createElement(vn.a.Group,null,r.a.createElement(vn.a,{onClick:this.onCancelAddNote},"Cancel"),r.a.createElement(vn.a.Or,null),r.a.createElement(vn.a,{onClick:this.onAddNote,positive:!0},"Submit"),r.a.createElement(bo.a,{options:n,name:"status",onChange:this.onChange,floating:!0,button:!0,className:"icon",defaultValue:t.status}))):r.a.createElement(vn.a,{onClick:this.showAddNote},r.a.createElement(qn.a,{name:"plus"}),"Add note"))}}]),t}(n.Component),yo=(a(679),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(hn.a)(this,(e=Object(fn.a)(t)).call.apply(e,[this].concat(r)))).onAddNote=function(e){a.props.createLeadNote(Object(x.a)({},e,{status:e.status?e.status:a.props.lead.status}))},a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){var e=Object(m.a)(p.a.mark(function e(){var t,a,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.match.params,a=t.companyId,n=t.leadId,this.props.loadLead(a,n),this.props.addBreadCrumb({name:"Leads",path:"/leads"});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.lead,a=e.leadNotes,n=e.leadStatuses;return r.a.createElement("div",{className:"LeadNotes"},r.a.createElement(mr,{size:"small"}),r.a.createElement(On.a.Column,{width:6},r.a.createElement(Dn.a,{className:"lead-profile"},r.a.createElement("div",{className:"lead-profile-row"},r.a.createElement("div",{className:"lead-profile-value fullname"},t.fullname),r.a.createElement("div",{className:"block timeline-status timeline-bg-color-".concat(t.status.charAt(0).toLowerCase())})),r.a.createElement("div",{className:"lead-profile-row"},r.a.createElement("div",{className:"lead-profile-label"},r.a.createElement("label",null,"Phone")),r.a.createElement("div",{className:"lead-profile-value"},t.phone)),r.a.createElement("div",{className:"lead-profile-row"},r.a.createElement("div",{className:"lead-profile-label"},r.a.createElement("label",null,"Email")),r.a.createElement("div",{className:"lead-profile-value"},t.email)),r.a.createElement("div",{className:"lead-profile-row"},r.a.createElement("div",{className:"lead-profile-label"},r.a.createElement("label",null,"Deal")),r.a.createElement("div",{className:"lead-profile-value"},t.name)),r.a.createElement("div",{className:"lead-profile-row"},r.a.createElement("div",{className:"lead-profile-label"},r.a.createElement("label",null,"Source")),r.a.createElement("div",{className:"lead-profile-value"},t.campaign.name)),r.a.createElement("div",{className:"lead-profile-row"},r.a.createElement("div",{className:"lead-profile-label"},r.a.createElement("label",null,"Assigned to")),r.a.createElement("div",{className:"lead-profile-value"},t.agent.name)),r.a.createElement("div",{className:"lead-profile-row"},r.a.createElement("div",{className:"lead-profile-label"},r.a.createElement("label",null,"Company")),r.a.createElement("div",{className:"lead-profile-value"},t.company.name)),r.a.createElement("div",{className:"lead-profile-row"},r.a.createElement("div",{className:"lead-profile-label"},r.a.createElement("label",null,"Additional information:")),r.a.createElement("div",{className:"lead-profile-value"})),r.a.createElement("div",{className:"lead-profile-row"},r.a.createElement("p",null,t.metadata)))),r.a.createElement(Dn.a,{attached:"top"},r.a.createElement(On.a,null,r.a.createElement(On.a.Row,{columns:2},r.a.createElement(On.a.Column,{floated:"left",style:{textAlign:"left"}},r.a.createElement(Fn.a,{floated:"left",as:"h1"},"Lead timeline"),r.a.createElement(vn.a,{content:"Send e-mail",as:"a",href:"mailto:".concat(t.email)})),r.a.createElement(On.a.Column,{floated:"right",style:{textAlign:"right"}},r.a.createElement("div",{className:"right floated ui secondary menu"},r.a.createElement(vn.a,{content:"Edit lead",onClick:this.props.loadForm.bind(this,Object(x.a)({},t,{company_id:t.company.id,show:!0}))}),r.a.createElement(vn.a,{color:"teal",content:"New Lead",onClick:this.props.loadForm.bind(this,{show:!0})}))))),r.a.createElement(Dn.a,{basic:!0,className:"notoppad"},r.a.createElement(Mn,null),r.a.createElement("div",{className:"export-data"},"Export your data ",r.a.createElement("a",{href:""},".csv export")," ",r.a.createElement("a",{href:""},".pdf export")),r.a.createElement(On.a,{columns:"equal"},r.a.createElement(On.a.Row,null,r.a.createElement(On.a.Column,{textAlign:"left"},r.a.createElement(Dn.a,{basic:!0},r.a.createElement(vo,{notes:a,lead:t,onAddNote:this.onAddNote,leadStatuses:n}))))))))}}]),t}(n.Component)),Co=Object(Da.a)(ee,Ca,ta)(yo),Oo=a(813),Ao=(a(681),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(hn.a)(this,(e=Object(fn.a)(t)).call.apply(e,[this].concat(r)))).email="",a.password="",a.onEmailChange=function(e){a.email=e.target.value},a.onPasswordChange=function(e){a.password=e.target.value},a.login=function(){a.props.login(a.email,a.password)},a.goMobileSignup=function(){window.webViewBridge.send("onSignup",{url:"http://convertlead.com"},function(e){console.log("===Success Send Signup Data to app!!! ===: ",e)},function(e){console.error("===Error Send Signup Data to app!!! ===: ",e)})},a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){var e=Object(m.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.autoLogin();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"login-form"},this.props.isAuthorised?r.a.createElement(Oo.a,{from:"/login",to:"/dashboard"}):null,r.a.createElement(On.a,{textAlign:"center",style:{height:"100%"},verticalAlign:"middle"},r.a.createElement(On.a.Column,{style:{maxWidth:450},className:"logincontainer"},r.a.createElement(Cn.a,{size:"large",onSubmit:this.login},r.a.createElement(Dn.a,{stacked:!0},r.a.createElement(Fn.a,{as:"h2",color:"teal",textAlign:"center"},r.a.createElement(Gr.a,{src:Wr.a})),r.a.createElement("p",null," Sign in to your account "),r.a.createElement("label",null,"Username/E-mail address"),r.a.createElement(Cn.a.Input,{fluid:!0,icon:{className:"linearicons-user"},iconPosition:"left",placeholder:"E-mail address",type:"text",onChange:this.onEmailChange}),r.a.createElement("label",null,"Password"),r.a.createElement(Cn.a.Input,{fluid:!0,icon:{className:"linearicons-lock"},iconPosition:"left",placeholder:"Password",type:"password",onChange:this.onPasswordChange}),r.a.createElement("label",null,r.a.createElement("a",{href:"/password-reset"},"Forgot password ?")),r.a.createElement(vn.a,{color:"teal",fluid:!0,size:"large"},"Sign in"),r.a.createElement("span",null,"Don't have an account? ",r.a.createElement("a",{href:"http://convertlead.com",id:"signupLink",onClick:this.goMobileSignup},"Sign up here")," "))))))}}]),t}(n.Component)),Do=Object(Da.a)($)(Ao),wo=(a(684),function(e){var t=e.integrationForm,a=e.integrationFormFields,n=e.form,o=Object(k.a)(e,["integrationForm","integrationFormFields","form"]);return r.a.createElement(Cn.a,null,r.a.createElement("h1",null,t.header.title),a.map(function(e,t){return e.isVisible?r.a.createElement(Cn.a.Field,{key:t,required:e.isRequired},r.a.createElement("label",null,e.label),r.a.createElement(An.a,{name:e.name,value:n[e.name],placeholder:e.placeholder,onChange:o.onChange})):null}),r.a.createElement(Dn.a,{basic:!0,textAlign:"right"},r.a.createElement(Cn.a.Button,{onClick:o.onSubmit},t.button.name)))}),jo=Ft(function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(hn.a)(this,(e=Object(fn.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e,t){a.props.changeForm(Object(ja.a)({},t.name,t.value))},a.onSubmit=function(){a.props.createLead(a.props.form)},a.onResend=function(){a.props.resetForm({showResend:!1})},a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){var e=Object(m.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.uuid,e.next=3,this.props.loadCampaignBy(t);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.integrationForm,a=e.integrationFormFields,n=e.form;return r.a.createElement("div",{className:"OptionForm"},r.a.createElement(Mn,null),n.showResend?r.a.createElement("div",{className:"resend"},r.a.createElement("div",null,r.a.createElement("div",{className:"resend-icon"},r.a.createElement(qn.a,{name:"check circle outline",size:"massive"})),r.a.createElement("h3",null,"Form Sent")),r.a.createElement(vn.a,{basic:!0,onClick:this.onResend},"Resend")):r.a.createElement(wo,{integrationForm:t,integrationFormFields:a,form:n,onSubmit:this.onSubmit,onChange:this.onChange}))}}]),t}(n.Component)),ko=(a(686),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(hn.a)(this,(e=Object(fn.a)(t)).call.apply(e,[this].concat(r)))).onFileLoad=function(e){if(!b.a(!1,["target","files"],e))return a.props.sendMessage("Missing required File!",!0),!1;var t=e.target.files[0],n=new FileReader;n.readAsDataURL(t),n.addEventListener("load",function(){a.props.changeProfileForm({avatar:n.result})},!1)},a.onSaveProfile=function(){a.validate(["name","email","phone"],a.props.profileForm)&&a.props.updateUserProfile(a.props.profileForm)},a.onSavePasswordReset=function(){a.validate(["password","password_confirmation"],a.props.passwordResetForm)&&a.props.updateUserProfile(a.props.passwordResetForm)},a.onChange=function(e,t){a.props.changeProfileForm(Object(ja.a)({},t.name,t.value))},a.onChangePassword=function(e,t){a.props.changePasswordResetForm(Object(ja.a)({},t.name,t.value))},a.validate=function(e,t){var n=na.a(function(e){return t[e]?{required:!1}:{field:e,required:!0}},e)||[],r=v.a(function(e,t){return"".concat(e?e+",\n"+t.field:t.field)},"",xt.a(function(e){return e.required},n));return!r||(a.props.sendMessage('Missing required "'.concat(r,'"!'),!0),!1)},a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.profileForm,t=e.name,a=e.phone,n=e.email,o=e.avatar,c=e.avatar_path,s=this.props.passwordResetForm,l=s.password,i=s.password_confirmation;return r.a.createElement(Cn.a,{size:"big",className:"profileForm"},r.a.createElement(On.a,{columns:2,relaxed:"very",stackable:!0},r.a.createElement(On.a.Column,{textAlign:"left"},r.a.createElement(Cn.a.Field,{required:!0},r.a.createElement("label",null,"Name"),r.a.createElement(An.a,{placeholder:"Name",name:"name",value:t||"",onChange:this.onChange})),r.a.createElement(Cn.a.Field,{required:!0},r.a.createElement("label",null,"Phone Number"),r.a.createElement(An.a,{placeholder:"Phone Number",name:"phone",value:a||"",onChange:this.onChange})),r.a.createElement(Cn.a.Field,{required:!0},r.a.createElement("label",null,"Email Address"),r.a.createElement(An.a,{placeholder:"Email Address",name:"email",value:n||"",onChange:this.onChange})),r.a.createElement(Dn.a,{basic:!0},r.a.createElement(kn,{size:"tiny",circular:!0,src:o||c||jn.a}),r.a.createElement("label",{htmlFor:"avatar"},r.a.createElement(vn.a,{icon:"upload",label:{basic:!0,content:"Select file"},labelPosition:"right"}),r.a.createElement("input",{hidden:!0,accept:".png, .jpeg, .jpg, image/png, image/jpeg, image/jpg",id:"avatar",type:"file",onChange:this.onFileLoad}))),r.a.createElement(vn.a,{floated:"right",onClick:this.onSaveProfile,primary:!0},"Save")),r.a.createElement(On.a.Column,{textAlign:"left"},r.a.createElement(Cn.a.Field,{required:!0},r.a.createElement("label",null,"Password"),r.a.createElement(An.a,{placeholder:"Password",name:"password",value:l,type:"password",onChange:this.onChangePassword})),r.a.createElement(Cn.a.Field,{required:!0},r.a.createElement("label",null,"Re-enter Password"),r.a.createElement(An.a,{placeholder:"Re-enter Password",name:"password_confirmation",value:i,type:"password",onChange:this.onChangePassword})),r.a.createElement(vn.a,{floated:"right",onClick:this.onSavePasswordReset,primary:!0},"Reset password"))))}}]),t}(n.Component)),xo=Object(Da.a)(fa,ia)(ko),So=function(e){function t(){return Object(h.a)(this,t),Object(hn.a)(this,Object(fn.a)(t).apply(this,arguments))}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){this.props.addBreadCrumb({name:"Profile",path:"/profile",active:!0},!0)}},{key:"render",value:function(){return r.a.createElement(Dn.a,{basic:!0,className:"AccountProfile"},r.a.createElement(Dn.a,{basic:!0,attached:"top",textAlign:"left"},r.a.createElement(Fn.a,{as:"h1",className:"ui left floated header mobile-app-menu"},"Profile")),r.a.createElement(Dn.a,{attached:"bottom"},r.a.createElement(xo,null)))}}]),t}(n.Component),Io=Object(Da.a)(fa,ee)(So),No=a(324),Mo=a(820),_o=(a(688),a(802)),Lo=(a(690),function(e){function t(){return Object(h.a)(this,t),Object(hn.a)(this,Object(fn.a)(t).apply(this,arguments))}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.leads,a=e.statuses;return r.a.createElement(Mo.a.Pane,{attached:!1},r.a.createElement(_o.a,{className:"AgentLeadsList",relaxed:"very"},t&&t.map(function(e,t){return r.a.createElement(_o.a.Item,{key:t,className:"listItem"},r.a.createElement(_o.a.Content,null,r.a.createElement(_o.a.Header,{as:En.a,to:{pathname:"/companies/leads/".concat(e.id,"/notes"),state:{lead:e}}},r.a.createElement("div",{className:"lead-status-icon lead-status-".concat(e.status[0].toLowerCase())},e.fullname&&e.fullname[0]||a[e.status].icon),e.fullname),r.a.createElement(_o.a.Description,null,r.a.createElement("span",{className:"company-name"},e.company.name,", "),r.a.createElement("span",{className:"deal-name"},e.campaign.deal?e.campaign.deal.name:""),r.a.createElement("span",{className:"listItemTime"},en.utc(e.created_at).local().fromNow()))))})))}}]),t}(n.Component)),Fo=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(hn.a)(this,(e=Object(fn.a)(t)).call.apply(e,[this].concat(r)))).state={scrollY:window.scrollY,dates:{today:{startDate:en().startOf("day").format("Y-MM-DD"),endDate:en().endOf("day").format("Y-MM-DD")},yesterday:{startDate:en().subtract(1,"days").startOf("day").format("Y-MM-DD"),endDate:en().subtract(1,"days").endOf("day").format("Y-MM-DD")},"this-week":{startDate:en().startOf("week").format("Y-MM-DD"),endDate:en().endOf("week").format("Y-MM-DD")},"previous-week":{startDate:en().subtract(1,"week").startOf("week").format("Y-MM-DD"),endDate:en().subtract(1,"week").endOf("week").format("Y-MM-DD")},"this-month":{startDate:en().startOf("month").format("Y-MM-DD"),endDate:en().endOf("month").format("Y-MM-DD")},"previous-month":{startDate:en().subtract(1,"month").startOf("month").format("Y-MM-DD"),endDate:en().subtract(1,"month").endOf("month").format("Y-MM-DD")}}},a.handleScroll=function(){var e=a.props.pagination;window.scrollY>a.state.scrollY&&e.current_page<e.last_page&&(a.props.scrollToPage(e.current_page+1),a.setState({scrollY:window.scrollY}))},a.showAllLeads=function(){a.setState({pageStart:0}),a.props.agentLeadsByStatuses([])},a.showFreshLeads=function(){a.setState({pageStart:0}),a.props.agentLeadsByStatuses(["NEW"])},a.showContactedLeads=function(){a.setState({pageStart:0}),a.props.agentLeadsByStatuses(["CONTACTED_SMS","CONTACTED_CALL","CONTACTED_EMAIL"])},a.showViewedLeads=function(){a.setState({pageStart:0}),a.props.agentLeadsByStatuses(["VIEWED"])},a.showSoldLeads=function(){a.setState({pageStart:0}),a.props.agentLeadsByStatuses(["SOLD"])},a.onSearch=function(e,t){a.props.searchAgentLeads(t.value)},a.onChangeDate=function(e,t){a.props.filterAgentLeads({startDate:a.state.dates[t.value].startDate,endDate:a.state.dates[t.value].endDate})},a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.match.params.tab;console.log("=========> active tab index:",e),this.defaultActiveIndex=0,e&&"new"===e&&(this.defaultActiveIndex=1),this.props.agentLeadsByStatuses([]),this.props.addBreadCrumb({name:"Leads",path:"/agents",active:!0})}},{key:"componentDidMount",value:function(){1===this.defaultActiveIndex&&this.showFreshLeads(),window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this,t=this.props,a=t.agentLeads,n=t.statuses,o=t.newLeadsCount,c=t.query,s=[{menuItem:r.a.createElement(Pn.a.Item,{key:"all",onClick:this.showAllLeads},"All"),render:function(){return r.a.createElement("div",{className:"tab-panel"},r.a.createElement(An.a,{icon:"search",placeholder:"Search...",onChange:e.onSearch,value:c.search||""}),r.a.createElement(Lo,{statuses:n,leads:a}))}},{menuItem:r.a.createElement(Pn.a.Item,{key:"fresh",onClick:this.showFreshLeads},"New",r.a.createElement(No.a,null,o)),render:function(){return r.a.createElement("div",{className:"tab-panel"},r.a.createElement(An.a,{icon:"search",placeholder:"Search...",onChange:e.onSearch,value:c.search||""}),r.a.createElement(Lo,{statuses:n,leads:a}))}},{menuItem:r.a.createElement(Pn.a.Item,{key:"contacted",onClick:this.showContactedLeads},"Contacted"),render:function(){return r.a.createElement("div",{className:"tab-panel"},r.a.createElement(An.a,{icon:"search",placeholder:"Search...",onChange:e.onSearch,value:c.search||""}),r.a.createElement(Lo,{statuses:n,leads:a}))}},{menuItem:r.a.createElement(Pn.a.Item,{key:"followup",onClick:this.showViewedLeads},"Follow up"),render:function(){return r.a.createElement("div",{className:"tab-panel"},r.a.createElement(An.a,{icon:"search",placeholder:"Search...",onChange:e.onSearch,value:c.search||""}),r.a.createElement(Lo,{statuses:n,leads:a}))}},{menuItem:r.a.createElement(Pn.a.Item,{key:"soldout",onClick:this.showSoldLeads},"Sold"),render:function(){return r.a.createElement("div",{className:"tab-panel"},r.a.createElement(An.a,{icon:"search",placeholder:"Search...",onChange:e.onSearch,value:c.search||""}),r.a.createElement(Lo,{statuses:n,leads:a}))}}];return r.a.createElement("div",{className:"AgentLeads"},r.a.createElement(Dn.a,{basic:!0},r.a.createElement(On.a,{columns:2},r.a.createElement(On.a.Column,null,r.a.createElement("h1",{className:"ui left floated header mobile-app-menu"},"Leads")),r.a.createElement(On.a.Column,null,r.a.createElement(Cn.a,null,r.a.createElement(Cn.a.Group,{widths:"equal"},r.a.createElement(Cn.a.Field,{required:!0,loading:!this.props.selectBoxDates.length,control:Wn.a,options:this.props.selectBoxDates||[],placeholder:"Select Date",defaultValue:"today",onChange:this.onChangeDate,searchInput:{id:"leads-date"}})))))),r.a.createElement(Dn.a,{basic:!0},r.a.createElement(Mo.a,{menu:{secondary:!0},panes:s,defaultActiveIndex:this.defaultActiveIndex})),r.a.createElement(En.a,{to:"/companies/leads/new/create"},r.a.createElement(vn.a,{circular:!0,primary:!0,size:"massive",icon:"plus",className:"add-lead"})))}}]),t}(n.Component),Ro=Object(Da.a)(oa,ee)(Fo),Po=(a(693),function(e){function t(){return Object(h.a)(this,t),Object(hn.a)(this,Object(fn.a)(t).apply(this,arguments))}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this.props.notes;return r.a.createElement("div",null,e&&e.map(function(e){return r.a.createElement("div",{className:"lead-note",key:e.id},r.a.createElement("div",{className:"lead-note-datetime"},r.a.createElement("span",{className:"lead-note-date"},en.utc(e.created_at).local().format("DD.MM.YYYY")),r.a.createElement("span",{className:"lead-note-time"},en.utc(e.created_at).local().format("LT"))),r.a.createElement("div",{className:"lead-note-content"},r.a.createElement("span",{className:"agent-name"},e.agent.name,", ")," ",e.message))}))}}]),t}(n.Component)),To=(a(695),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(hn.a)(this,(e=Object(fn.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,reminder:null},a.editReminder=function(e){a.props.onEdit(e)},a.openConfirmModal=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a.setState({open:e,reminder:t})},a.onConfirm=function(){a.setState({open:!1}),a.props.onDelete(a.state.reminder)},a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.reminders;return r.a.createElement("div",null,r.a.createElement(Ln.a,{open:this.state.open,onCancel:this.openConfirmModal.bind(this,!1),onConfirm:this.onConfirm}),t&&t.map(function(t){return r.a.createElement("div",{className:"reminder",key:t.id,onClick:function(){return e.editReminder(t)}},r.a.createElement("div",{className:"reminder-content"},r.a.createElement("span",{className:"icon-delete-reminder",onClick:function(a){a.stopPropagation(),e.openConfirmModal(!0,t)}},r.a.createElement(qn.a,{name:"delete",size:"small"})),r.a.createElement("span",null,t.name)),r.a.createElement("div",{className:"reminder-datetime"},r.a.createElement("span",{className:"reminder-created-time"},en.utc(t.time).local().format("DD.MM.YYYY")),r.a.createElement("span",{className:"reminder-created-time hour"},en.utc(t.time).local().format("LT"))))}))}}]),t}(n.Component)),qo=a(699),Bo=a(795),Go=a(794),Yo=a(359),Wo=a(797),Ho=(a(697),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(hn.a)(this,(e=Object(fn.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e,t){a.props.changeForm(Object(ja.a)({},t.name,t.value))},a.handleDateChange=function(e){a.props.changeForm({time:e})},a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this.props.form,t=(e.id,e.name),a=e.time;return r.a.createElement(Cn.a,{size:"tiny",className:"reminderForm"},r.a.createElement(On.a,{columns:1,relaxed:"very",stackable:!0},r.a.createElement(On.a.Column,null,r.a.createElement(Cn.a.Field,{required:!0},r.a.createElement("label",null,"Name"),r.a.createElement(An.a,{placeholder:"Name",name:"name",value:t||"",onChange:this.onChange})),r.a.createElement(Cn.a.Field,{required:!0},r.a.createElement("label",null,"Date Time"),r.a.createElement(qo.b,{utils:Yo.a},r.a.createElement(Wo.a,{autoOk:!0,ampm:!0,minDate:new Date,value:a||new Date,onChange:this.handleDateChange,InputProps:{endAdornment:r.a.createElement(Bo.a,{position:"end"},r.a.createElement(Go.a,null,r.a.createElement(qn.a,{name:"alarm",size:"small"})))}}))))))}}]),t}(n.Component)),Vo=Object(Da.a)(ia,Et)(function(e){return r.a.createElement(yn,Object(x.a)({},e,{Container:Ho}))}),zo=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(hn.a)(this,(e=Object(fn.a)(t)).call.apply(e,[this].concat(r)))).state={showTimeline:!0,showReminder:!0,lead:{email:"",phone:""},form:{status:"",message:""}},a.onCall=function(){a.props.createLeadNote({message:"Lead have been called!",status:"CONTACTED_CALL"})},a.onEmail=function(){a.props.createLeadNote({message:"Lead contacted by email!",status:"CONTACTED_EMAIL"})},a.onText=function(){a.props.createLeadNote({message:"Lead contacted by SMS!",status:"CONTACTED_SMS"})},a.toggleTimeline=function(){a.setState(Object(x.a)({},a.state,{showTimeline:!a.state.showTimeline}))},a.toggleReminder=function(){a.setState(Object(x.a)({},a.state,{showReminder:!a.state.showReminder}))},a.onChange=function(e,t){a.setState(Object(x.a)({},a.state,{form:Object(x.a)({},a.state.form,Object(ja.a)({},t.name,t.value))}))},a.onAddNote=function(){a.props.createLeadNote(Object(x.a)({},a.state.form,{status:a.state.form.status?a.state.form.status:a.props.lead.status}))},a.onNewReminder=function(){var e={show:!0,leadId:a.state.lead.id,companyId:a.state.lead.company.id};a.props.loadForm(e)},a.onEditReminder=function(e){var t=Object(x.a)({show:!0,leadId:a.state.lead.id,companyId:a.state.lead.company.id},e);a.props.loadForm(t)},a.onDeleteReminder=function(e){var t=Object(x.a)({show:!0,leadId:a.state.lead.id,companyId:a.state.lead.company.id},e);a.props.deleteForm(t)},a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){var e=_n.a(["history","location","state","lead"],this.props);this.setState(Object(x.a)({},this.state,{lead:e})),this.props.addBreadCrumb({name:"Leads",path:"/companies/leads/all"},!0),this.props.addBreadCrumb({name:e.fullname,path:"",active:!0},!1),this.props.loadLead(e.company.id,e.id,!0)}},{key:"render",value:function(){var e=this,t=this.state,a=t.lead,n=t.showTimeline,o=t.showReminder,c=this.props,s=c.leadNotes,l=c.leadStatuses,i=c.reminders;return r.a.createElement("div",{className:"AgentLeadNotes"},r.a.createElement(Vo,null),r.a.createElement("div",{className:"column"},r.a.createElement("h1",{className:"ui left floated header mobile-app-menu"},a.fullname)),r.a.createElement("div",{className:"lead-profile-row buttons"},r.a.createElement(vn.a,{className:"remindernew-but",circular:!0,onClick:this.onNewReminder}," ",r.a.createElement(qn.a,{name:"plus"})," Add reminder ")),r.a.createElement("div",{className:"lead-profile-row buttons"},r.a.createElement(vn.a,{as:"a",href:"mailto:".concat(a.email),onClick:this.onEmail,circular:!0},r.a.createElement(qn.a,{name:"mail"}),"E-mail"),r.a.createElement(vn.a,{className:"call-lead-but",as:"a",href:"tel:".concat(a.phone),onClick:this.onCall,circular:!0},r.a.createElement(qn.a,{name:"call"})),r.a.createElement(vn.a,{as:"a",href:"sms:".concat(a.phone),onClick:this.onText,circular:!0},r.a.createElement(qn.a,{name:"pencil alternate"}),"Text")),r.a.createElement("div",{className:"lead-info"},r.a.createElement("div",{className:"info-header"},"Subscribed for:"),r.a.createElement("label",null,a.campaign.name)),r.a.createElement("div",{className:"lead-meta"},r.a.createElement("div",{className:"meta-header"},"Additional info:"),r.a.createElement("p",null,a.metadata)),r.a.createElement("div",{className:"lead-timeline"},r.a.createElement("div",{className:"timeline-header",onClick:this.toggleTimeline},"Lead Timeline",r.a.createElement(qn.a,{name:n?"angle down":"angle up"})),n?r.a.createElement(Po,{notes:s}):null),r.a.createElement("div",{className:"lead-reminder"},r.a.createElement("div",{className:"timeline-header",onClick:this.toggleReminder},"Lead Reminder",r.a.createElement(qn.a,{name:o?"angle down":"angle up"})),o?r.a.createElement(To,{reminders:i,lead:a,onEdit:function(t){return e.onEditReminder(t)},onDelete:function(t){return e.onDeleteReminder(t)}}):null),r.a.createElement("div",{className:"addLeadNote"},r.a.createElement(Cn.a,null,r.a.createElement(Cn.a.Field,null,r.a.createElement(ur.a,{name:"message",placeholder:"+ add note",onChange:this.onChange})),r.a.createElement(vn.a.Group,null,r.a.createElement(vn.a,{onClick:this.onAddNote,positive:!0},"Submit"),r.a.createElement(vn.a.Or,null),r.a.createElement(bo.a,{options:l,name:"status",onChange:this.onChange,floating:!0,button:!0,className:"icon",defaultValue:a.status})))))}}]),t}(n.Component),Uo=Object(Da.a)(oa,Ca,ee,Et)(zo),Qo=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(hn.a)(this,(e=Object(fn.a)(t)).call.apply(e,[this].concat(r)))).onSave=function(){a.validate()&&a.props.saveForm(a.props.form)},a.validate=function(){if(St.a("required",a.props)){var e=kt.a(function(e,t){return!a.props.form[t]&&e?{field:t,required:!0}:{required:!1}},a.props.required)||[],t=v.a(function(e,t){return"".concat(e?e+",\n"+t.field:t.field)},"",xt.a(function(e){return e.required},y.a(e)));if(t)return a.props.sendMessage('Missing required "'.concat(t,'"!'),!0),!1}return!0},a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){this.props.loadForm({}),this.props.loadSelectBoxCompanies(),this.props.addBreadCrumb({name:"Leads",path:"/companies/leads/all"},!0),this.props.addBreadCrumb({name:"Create",path:"",active:!0},!1)}},{key:"render",value:function(){return r.a.createElement(Dn.a,{basic:!0},r.a.createElement("div",{className:"create-lead-header"},r.a.createElement("h1",{className:"ui left floated header mobile-app-menu"},"Create lead")),r.a.createElement("div",{className:"create-lead-form"},r.a.createElement(pr,this.props),r.a.createElement("div",null,r.a.createElement(vn.a,{onClick:this.onSave},"Save"))))}}]),t}(n.Component),Ko=Object(Da.a)(ee,fa,ta,oa,ia,Ie)(Qo),Xo=(a(702),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(hn.a)(this,(e=Object(fn.a)(t)).call.apply(e,[this].concat(r)))).email="",a.onEmailChange=function(e){a.email=e.target.value},a.resetPassword=function(){a.props.resetPassword(a.email)},a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){var e=Object(m.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.autoLogin();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"login-form"},this.props.isAuthorised?r.a.createElement(Oo.a,{from:"/login",to:"/dashboard"}):null,r.a.createElement(On.a,{textAlign:"center",style:{height:"100%"},verticalAlign:"middle"},r.a.createElement(On.a.Column,{style:{maxWidth:450},className:"logincontainer"},r.a.createElement(Cn.a,{size:"large",onSubmit:this.login},r.a.createElement(Dn.a,{stacked:!0},r.a.createElement(Fn.a,{as:"h2",color:"teal",textAlign:"center"},r.a.createElement(Gr.a,{src:Wr.a})),r.a.createElement("label",null,r.a.createElement("a",{href:"/login"}," Back to Login!")),r.a.createElement("p",null," Reset Password "),r.a.createElement("label",null,"E-mail address"),r.a.createElement(Cn.a.Input,{fluid:!0,icon:{className:"linearicons-user"},iconPosition:"left",placeholder:"E-mail address",type:"text",onChange:this.onEmailChange}),r.a.createElement(vn.a,{color:"teal",onClick:this.resetPassword,fluid:!0,size:"large"},"Reset password"))))))}}]),t}(n.Component)),Jo=Object(Da.a)($)(Xo),Zo=Object(Tr.a)($(function(e){var t=e.component,a=Object(k.a)(e,["component"]);return r.a.createElement(Pr.a,Object.assign({},a,{render:function(e){return a.isAuthorised?r.a.createElement(t,e):r.a.createElement(Oo.a,{to:"/login"})}}))})),$o=(a(704),function(){return r.a.createElement("div",{className:"freshappRoutes"},r.a.createElement(Zo,{exact:!0,path:"/",component:ir}),r.a.createElement(Zo,{exact:!0,path:"/dashboard",component:ir}),r.a.createElement(Zo,{exact:!0,path:"/users",component:sr}),r.a.createElement(Zo,{exact:!0,path:"/companies",component:Yn}),r.a.createElement(Zo,{exact:!0,path:"/companies/:companyId/profile",component:go}),r.a.createElement(Zo,{exact:!0,path:"/companies/:companyId/deals/:dealId/campaigns",component:mo}),r.a.createElement(Zo,{exact:!0,path:"/companies/:companyId/leads/:leadId/notes",component:Co}),r.a.createElement(Zo,{exact:!0,path:"/companies/:companyId/agents",component:jr}),r.a.createElement(Zo,{exact:!0,path:"/companies/:companyId/leads",component:Cr}),r.a.createElement(Zo,{exact:!0,path:"/companies/:companyId/campaigns/:campaignId/leads",component:Cr}),r.a.createElement(Zo,{exact:!0,path:"/companies/:companyId/deals",component:ir}),r.a.createElement(Zo,{exact:!0,path:"/agents",component:jr}),r.a.createElement(Zo,{exact:!0,path:"/agents/:agentId/profile",component:Ur}),r.a.createElement(Zo,{exact:!0,path:"/agents/:agentId/campaigns",component:mo}),r.a.createElement(Zo,{exact:!0,path:"/profile",component:Io}),r.a.createElement(Zo,{exact:!0,path:"/leads",component:Cr}),r.a.createElement(Zo,{exact:!0,path:"/deals/:dealId/campaigns",component:mo}),r.a.createElement(Zo,{exact:!0,path:"/leads/:leadId/notes",component:Co}),r.a.createElement(Zo,{exact:!0,path:"/campaigns/:campaignId/leads",component:Cr}),r.a.createElement(Zo,{exact:!0,path:"/stats",component:go}),r.a.createElement(Zo,{exact:!0,path:"/agents/:agentId/leads",component:Cr}),r.a.createElement(Zo,{exact:!0,path:"/companies/leads/:tab",component:Ro}),r.a.createElement(Zo,{exact:!0,path:"/companies/leads/:leadId/notes",component:Uo}),r.a.createElement(Zo,{exact:!0,path:"/companies/leads/new/create",component:Ko}))}),ec=(a(706),Object(Tr.a)(function(e){return r.a.createElement("div",{className:"freshAppContainer"},r.a.createElement($o,null))})),tc=(a(708),Object(Da.a)(fa,$,Object(Da.b)({componentWillMount:function(){this.props.getUserProfile()}}))(function(e){var t=e.profile,a=e.adminAccessToken,n=e.loginToAdmin;return r.a.createElement("div",{className:"freshAppHeader"},r.a.createElement(On.a,{columns:2,stackable:!0},r.a.createElement(On.a.Row,{verticalAlign:"middle"},r.a.createElement(On.a.Column,null,r.a.createElement(Kr,null)),r.a.createElement(On.a.Column,{textAlign:"right"},r.a.createElement(En.a,{to:"/profile"},r.a.createElement(Fn.a,{as:"h2"},t.name)),a?r.a.createElement(vn.a,{secondary:!0,onClick:n},"Back to admin"):null))))})),ac=function(){return r.a.createElement("div",{className:"freshAppFooter"})},nc=(a(710),function(){return"undefined"===typeof window?qr.a.onlyTablet.minWidth:window.innerWidth}),rc=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(hn.a)(this,(e=Object(fn.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return r.a.createElement(qr.a,{getWidth:nc,minWidth:qr.a.onlyTablet.minWidth},r.a.createElement("div",{className:"freshAppLayout"},r.a.createElement(On.a,{padded:"horizontally",columns:2},r.a.createElement(On.a.Column,{width:1},r.a.createElement(Vr,null)),r.a.createElement(On.a.Column,{width:15},j.isAgent?null:r.a.createElement(tc,null),r.a.createElement(ec,null),r.a.createElement(ac,null)))))}}]),t}(n.Component),oc=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(hn.a)(this,(e=Object(fn.a)(t)).call.apply(e,[this].concat(r)))).state={},a.handleSidebarHide=function(){return a.setState({sidebarOpened:!1})},a.handleToggle=function(){return a.setState({sidebarOpened:!0})},a}return Object(gn.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.state.sidebarOpened;return r.a.createElement(qr.a,{as:Br.a.Pushable,getWidth:nc,maxWidth:qr.a.onlyMobile.maxWidth},r.a.createElement(Br.a,{animation:"push",onHide:this.handleSidebarHide,visible:e},r.a.createElement(Vr,{onClickMenuItem:this.handleSidebarHide})),r.a.createElement(Br.a.Pusher,{dimmed:e},r.a.createElement(Dn.a,{textAlign:"center",style:{padding:0}},r.a.createElement(Pn.a,{pointing:!0,secondary:!0,size:"large",style:{margin:0,display:"unset"}},r.a.createElement(Pn.a.Item,{style:{zIndex:9999,position:"absolute",top:"40px",left:"10px"},onClick:this.handleToggle},r.a.createElement(qn.a,{name:"sidebar"}))),r.a.createElement(On.a,{padded:"horizontally"},r.a.createElement(On.a.Column,null,j.isAgent?null:r.a.createElement(tc,null),r.a.createElement(ec,null),r.a.createElement(ac,null))))))}}]),t}(n.Component),cc=function(){return r.a.createElement("div",null,r.a.createElement(rc,null),r.a.createElement(oc,null))},sc=(a(712),a(714),a(716),a(718),Object(Tr.a)(Object(Da.a)($,fa,Object(Da.b)({componentWillMount:function(){this.props.autoLogin()}}))(function(e){e.session;return r.a.createElement("div",{className:"App"},r.a.createElement(Rr.a,null,r.a.createElement(Pr.a,{exact:!0,path:"/login",component:Do}),r.a.createElement(Pr.a,{exact:!0,path:"/password-reset",component:Jo}),r.a.createElement(Pr.a,{exact:!0,path:"/campaign/:uuid",component:jo}),r.a.createElement(Pr.a,{path:"/",component:cc})))})));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var lc=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()};a(724),a(727);c.a.render(r.a.createElement(s.a,null,r.a.createElement(l.a,{store:Fr},r.a.createElement(sc,null))),document.getElementById("root")),c.a.render(r.a.createElement(l.a,{store:Fr},r.a.createElement(i.ToastContainer,null)),document.getElementById("toast")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}),function(){var e=Promise.resolve(),t={};window.webViewBridge={send:function(a,n,r,o){var c={targetFunc:a,data:n||{}};(r||o)&&(c.msgId=lc());var s=JSON.stringify(c);e=e.then(function(){return new Promise(function(e,a){console.log("sending message "+c.targetFunc),c.msgId&&(t[c.msgId]={onsuccess:r,onerror:o}),window.ReactNativeWebView.postMessage(s),e()})}).catch(function(e){console.error("RN Bridge send failed "+e.message)})}},window.addEventListener("message",function(e){var a;try{a=JSON.parse(e.data)}catch(r){return}if(a&&"NEW_NOTIFICATION"===a.title){var n=a.data;window.location.href=n.url}a.args&&t[a.msgId]&&(a.isSuccessfull?t[a.msgId].onsuccess.apply(null,a.args):t[a.msgId].onerror.apply(null,a.args),delete t[a.msgId])})}()},89:function(e,t){e.exports="data:image/png;base64,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"}},[[375,2,1]]]);
//# sourceMappingURL=main.fe9c4aa0.chunk.js.map